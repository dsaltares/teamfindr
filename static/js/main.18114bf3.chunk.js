(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{305:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(1),c=(n(301),n(0)),r=n.n(c),i=n(24),o=n.n(i),s=n(488),l=n(236),u=(n(305),n(44)),d=n(23),j=n(456),b=n(495),p=n(237),h=n.n(p),m=n(270),O=n(454),v=n(455),f=n(74),x=n(450),g=n(401),y=n(452),C=n(453),w=n(14),k=n(135),S=n(273),N=n(451),I=n(244),T=n.n(I),P=n(504),A=n(447),E=n(95),L=Object(E.a)((function(e){return{small:{width:20,height:20},medium:{width:e.spacing(5),height:e.spacing(5)},large:{width:e.spacing(16),height:e.spacing(16)}}})),B=L,R=function(e){var t=e.firstName,n=e.lastName,c=e.avatar,r=e.size,i=void 0===r?"medium":r,o=e.variant,s=e.loading,l=void 0!==s&&s,u=B(),d="".concat(t," ").concat(n);return l?Object(a.jsx)(A.a,{className:u[i],variant:"circle",animation:"wave"}):Object(a.jsx)(P.a,{variant:o,className:u[i],alt:d,src:c})},D=r.a.memo(R),F=Object(E.a)((function(e){return{fullHeight:{height:"100%"},itemIcon:{minWidth:0,paddingRight:e.spacing(1)}}})),q=F,W=n(494),H=n(13),V=n.n(H),U=n(25),z=n(46),M=n.n(z),J={uploadImage:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/teamfindr/image/upload","teamfindr",(n=new FormData).append("file",t),n.append("upload_preset","teamfindr"),e.next=7,M.a.post("https://api.cloudinary.com/v1_1/teamfindr/image/upload",n);case 7:return a=e.sent,c=a.data.secure_url,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=J,G=n(27),_="https://photon.komoot.io",K=function(e){var t=e.geometry.coordinates,n=e.properties,a=n.name,c=n.country,r=n.city,i=n.postcode,o=n.housenumber,s=n.street,l={geo:{type:"Point",coordinates:t},country:c,city:r,postcode:i,number:o,street:s,type:n.type},u="",d=[];switch(e.properties.type){case"house":a?d=["number","street","postcode","city","country"]:(u="".concat(o?"".concat(o," "):"").concat(s),d=["postcode","city","country"]);break;case"street":d=["postcode","city","country"];break;case"district":d=["city","country"];break;case"city":case"county":d=["country"]}return Object(G.a)(Object(G.a)({},l),{},{name:a||u,description:d.map((function(e){return l[e]})).filter((function(e){return!!e})).join(", ")})},Y=function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.a)(t,2),a=n[0],c=n[1],e.next=3,M.a.get("".concat(_,"/reverse?lat=").concat(c,"&lon=").concat(a));case 3:return r=e.sent,i=r.data,e.abrupt("return",Object(G.a)(Object(G.a)({},K(i.features[0])),{},{geo:{type:"Point",coordinates:t}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){return new Promise((function(e,t){var n=navigator.geolocation;n||t({code:GeolocationPositionError.POSITION_UNAVAILABLE,message:"Geolocation not available"});n.getCurrentPosition((function(t){return e([t.coords.longitude,t.coords.latitude])}),t)}))},$=function(){var e=Object(U.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return t=e.sent,e.abrupt("return",Y(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(U.a)(V.a.mark((function e(){var t,n,a,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://geolocation-db.com/json/85249190-4601-11eb-9067-21b51bc8dee3");case 2:return t=e.sent,n=t.data,a=n.latitude,c=n.longitude,e.abrupt("return",Y([c,a]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){return function(t){return!e||t.type===e}},te=function(){var e=Object(U.a)(V.a.mark((function e(t,n,a){var c,r,i,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return c=n?"&lon=".concat(n[0],"&lat=").concat(n[1]):"",r="".concat(_,"/api/?q=").concat(encodeURIComponent(t)).concat(c),e.prev=4,e.next=7,M.a.get(r);case 7:return i=e.sent,o=i.data.features,e.abrupt("return",o.map(K).filter(ee(a)));case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(U.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),ae={getLocationFromGeolocation:$,getLocationFromIp:X,getLocationSuggestions:te,getLocationFromCoordinates:Y,requestGeoLocationPermission:ne},ce=ae,re="localhost"===window.location.hostname?"http://localhost:5000":"https://api.teamfindr.saltares.com",ie={verify:function(){var e=Object(U.a)(V.a.mark((function e(){var t,n,a,c,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(re,"/auth/verify"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return t=e.sent,n=t.data,a=n.user,c=n.pushPublicKey,e.abrupt("return",{user:a,pushPublicKey:c});case 10:if(e.prev=10,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)){e.next=14;break}return e.abrupt("return",{user:null,pushPublicKey:null});case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),openIdpAuthPage:function(e,t){window.open("".concat(re,"/auth/").concat(e,"?redirect=").concat(encodeURIComponent(t)),"_self")},logout:function(){window.open("".concat(re,"/auth/logout"),"_self")},patchUser:function(){var e=Object(U.a)(V.a.mark((function e(t,n){var a,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.patch("".concat(re,"/users/").concat(t),{user:n},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return a=e.sent,c=a.data.user,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},oe=ie,se=n(123),le=function(e){return Object.keys(e).reduce((function(t,n){var a=e[n];return n&&a?[].concat(Object(se.a)(t),["".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(a))]):t}),[]).join("&")},ue={createVenue:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.location,e.next=3,M.a.post("".concat(re,"/venues"),{venue:{name:n,location:a}},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return c=e.sent,r=c.data.venue,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenues:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r,i,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,a=t.radius,c=(null===n||void 0===n?void 0:n.geo.coordinates)||[],r=le({lon:c[0],lat:c[1],radius:a}),e.next=5,M.a.get("".concat(re,"/venues?").concat(r),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 5:return i=e.sent,o=i.data.venues,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenue:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(re,"/venues/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.venue,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=ue,je=n(83),be={createEvent:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.autoJoin,a=Object(je.a)(t,["autoJoin"]),e.next=3,M.a.post("".concat(re,"/events"),{event:a,autoJoin:n},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return c=e.sent,r=c.data.event,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getEvents:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r,i,o,s,l,u,d,j,b,p;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,a=t.radius,c=t.sports,r=t.date,i=t.excludeFull,o=t.venue,s=t.after,l=t.before,u=t.isParticipant,d=(null===n||void 0===n?void 0:n.geo.coordinates)||[],j=le({lon:d[0],lat:d[1],radius:a,sports:c?null===c||void 0===c?void 0:c.join(":"):void 0,date:r?r.toISOString():void 0,excludeFull:i,venue:o,after:s?s.toISOString():void 0,before:l?l.toISOString():void 0,isParticipant:u}),e.next=5,M.a.get("".concat(re,"/events?").concat(j),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 5:return b=e.sent,p=b.data.events,e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getEvent:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(re,"/events/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.event,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getParticipants:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(re,"/participants/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.participants,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addParticipant:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.post("".concat(re,"/participants/").concat(t),void 0,{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data,c=a.participants,r=a.event,e.abrupt("return",{participants:c,event:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteParticipant:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,a,c,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.delete("".concat(re,"/participants/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data,c=a.participants,r=a.event,e.abrupt("return",{participants:c,event:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pe=be,he=function(){var e=Object(U.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:null===(n=navigator.serviceWorker.controller)||void 0===n||n.postMessage(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me={subscribeToPush:function(e){he({type:"SUBSCRIBE_TO_PUSH",payload:{pushPublicKey:e}})}},Oe=me,ve={images:Q,location:ce,user:oe,venues:de,events:pe,worker:Oe},fe=ve,xe=Object(c.createContext)(fe),ge=function(){return Object(c.useContext)(xe)},ye=function(e){var t=e.children,n=e.services;return Object(a.jsx)(xe.Provider,{value:n||fe,children:t})},Ce=function(){var e=ge(),t=Object(c.useState)(null),n=Object(w.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(w.a)(i,2),s=o[0],l=o[1];Object(c.useEffect)((function(){(function(){var e=Object(U.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.permissions.query({name:"geolocation"});case 4:t=e.sent,r(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);var u=Object(c.useCallback)(Object(U.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,e.location.requestGeoLocationPermission();case 3:l(!1);case 4:case"end":return t.stop()}}),t)}))),[l,e]);return{permission:null===a||void 0===a?void 0:a.state,request:u,requesting:s}},we=432e5,ke=function(){var e=function(){var e=ge(),t=Ce().permission,n=Object(W.a)("geoLocation",(function(){return e.location.getLocationFromGeolocation()}),{staleTime:we,refetchInterval:we,enabled:"granted"===t});return{isLoading:n.isLoading,error:n.error,location:n.data||null}}(),t=function(){var e=ge(),t=Object(W.a)("ipLocation",(function(){return e.location.getLocationFromIp()}),{staleTime:we,refetchInterval:we});return{isLoading:t.isLoading,error:t.error,location:t.data||null}}(),n=(!!t.location||!!t.error)&&!!t;return!!e.location&&!e.error?e:n?t:e},Se=n(153),Ne=function(e){var t=e.query,n=e.around,a=e.restrictToType,r=ge(),i=Object(Se.a)(t,200),o=Object(c.useState)([]),s=Object(w.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(!1),j=Object(w.a)(d,2),b=j[0],p=j[1];return Object(c.useEffect)((function(){(function(){var e=Object(U.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,r.location.getLocationSuggestions(i,n,a);case 3:(t=e.sent)&&u(t),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,u,p,r,n,a]),{suggestions:l,loading:b}},Ie=n(448),Te={leading:!0,trailing:!0},Pe=function(e){var t=Object(Se.a)(e,200,Te),n=Object(c.useState)(null),a=Object(w.a)(n,2),r=a[0],i=a[1],o=ge();return Object(c.useEffect)((function(){(function(){var e=Object(U.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o.location.getLocationFromCoordinates(t);case 5:n=e.sent,i(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t,o,i]),r},Ae=function(){var e=Object(c.useState)(null),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Pe(n);return Object(Ie.b)({click:function(e){a([e.latlng.lng,e.latlng.lat])}}),r},Ee=n(241),Le=n.n(Ee),Be=function(){var e=ke().location;if(!e)return"EUR";var t=e.country,n=Le.a.country(t.toLowerCase());return 0===n.length?"EUR":n[0].code},Re=864e5,De=function(){var e=ge(),t=Object(W.a)("user",(function(){return e.user.verify()}),{staleTime:Re,cacheTime:Re}),n=t.isLoading,a=t.error,c=t.data;return{isLoading:n,error:a,user:null===c||void 0===c?void 0:c.user,pushPublicKey:null===c||void 0===c?void 0:c.pushPublicKey}},Fe=function(){return ge().user.logout},qe=function(){return ge().user.openIdpAuthPage},We=n(152),He=n(497),Ve=function(){var e=Object(We.b)(),t=ge(),n=De().user,a=function(){var e=Object(U.a)(V.a.mark((function e(a){var c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.images.uploadImage(a);case 2:return c=e.sent,e.abrupt("return",t.user.patchUser(n.id,{avatar:c}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(He.a)(a,{onSuccess:function(t){e.setQueryData("user",t)}})},Ue=function(){var e=Object(c.useState)({clientHeight:0,clientWidth:0}),t=Object(w.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=function(){a({clientHeight:document.documentElement.clientHeight,clientWidth:document.documentElement.clientWidth})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},ze=n(242),Me=n.n(ze),Je=function(){var e=Object(d.h)().search;return Me.a.parse(e,{ignoreQueryPrefix:!0})},Qe=function(){var e=Object(We.b)(),t=ge();return Object(He.a)(t.venues.createVenue,{onSuccess:function(t){e.invalidateQueries("venues"),e.setQueryData("venues/".concat(t.id),t)}})},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(c.useState)(e),a=Object(w.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},_e=function(e,t){var n=Object(We.b)(),a=ge(),c=Ge(t,200),r=Object(W.a)(["venues",[null===e||void 0===e?void 0:e.geo.coordinates,c]],(function(){return a.venues.getVenues({location:e,radius:c})}),{staleTime:432e5,enabled:!!e,onSuccess:function(e){e.forEach((function(e){n.setQueryData("venues/".concat(e.id),e)}))}});return{isLoading:r.isLoading,error:r.error,venues:r.data}},Ke=function(e){var t=ge(),n=Object(W.a)("venues/".concat(e),(function(){return t.venues.getVenue(e)}),{staleTime:432e5});return{isLoading:n.isLoading,error:n.error,venue:n.data}},Ye=n(67),Ze=n(243),$e=n.n(Ze),Xe=function(e){var t=Object(Ye.b)().enqueueSnackbar;return Object(c.useCallback)(Object(U.a)(V.a.mark((function n(){return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(navigator.share)try{navigator.share(e)}catch(a){}else $e()(e.url),t("Link copied",{variant:"success"});case 3:case"end":return n.stop()}}),n)}))),[e,t])},et=function(e){return Xe(function(e){if(e){var t=window.location,n="".concat(t.protocol,"//").concat(t.host,"/#/venues/").concat(e.id);return{title:"TeamFindr",text:"Check out the events at ".concat(e.name,"."),url:n}}}(e))},tt=function(){var e=Object(We.b)(),t=ge();return Object(He.a)(t.events.createEvent,{onSuccess:function(t){e.invalidateQueries("events"),e.setQueryData("events/".concat(t.id),t)}})},nt=function(e){var t=e.location,n=e.radius,a=e.sports,c=e.date,r=e.excludeFull,i=e.venue,o=e.after,s=e.before,l=e.isParticipant,u=Object(We.b)(),d=ge(),j=Ge(n,200),b=Object(W.a)(["events",[null===t||void 0===t?void 0:t.geo.coordinates,j,a,c,r,i,o,s,l]],(function(){return d.events.getEvents({location:t,radius:j,sports:a,date:c,excludeFull:r,venue:i,after:o,before:s,isParticipant:l})}),{staleTime:432e5,enabled:!!t||!!i||!!l,onSuccess:function(e){e.forEach((function(e){u.setQueryData("events/".concat(e.id),e)}))}});return{isLoading:b.isLoading,error:b.error,events:b.data}},at=function(e){var t=ge(),n=Object(W.a)("events/".concat(e),(function(){return t.events.getEvent(e)}),{staleTime:432e5});return{isLoading:n.isLoading,error:n.error,event:n.data}},ct=function(e){var t=ge(),n=Object(W.a)("participants/".concat(e),(function(){return t.events.getParticipants(e)}),{staleTime:432e5});return{isLoading:n.isLoading,error:n.error,participants:n.data}},rt=function(){var e=Object(We.b)(),t=ge();return Object(He.a)(t.events.addParticipant,{onSuccess:function(t){e.setQueryData("events/".concat(t.event.id),t.event),e.setQueryData("participants/".concat(t.event.id),t.participants)}})},it=function(){var e=Object(We.b)(),t=ge();return Object(He.a)(t.events.deleteParticipant,{onSuccess:function(t){e.setQueryData("events/".concat(t.event.id),t.event),e.setQueryData("participants/".concat(t.event.id),t.participants)}})},ot=function(e){return"".concat(window.location.protocol,"//").concat(window.location.host,"/#/events/").concat(e)},st=function(e){return Xe(function(e){if(e)return{title:"TeamFindr",text:"Come play ".concat(e.sport.toLowerCase()," at ").concat(e.venue.name,"."),url:ot(e.id)}}(e))},lt=function(e){return function(t){var n=t.event,a=t.participants;e.setQueryData("events/".concat(n.id),n),e.setQueryData("participants/".concat(n.id),a)}},ut=function(){var e=Object(We.b)();return Object(c.useCallback)((function(t){t.on("Participants:Left",lt(e)),t.on("Participants:Joined",lt(e))}),[e])},dt=function(){var e=Object(Ye.b)(),t=e.enqueueSnackbar,n=e.closeSnackbar,r=De().pushPublicKey,i=ge();return Object(c.useCallback)((function(){r&&"default"===Notification.permission&&t("Push notifications will help you stay up to date!",{variant:"info",action:function(e){return Object(a.jsx)(k.a,{variant:"text",color:"inherit",onClick:Object(U.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(e),t.next=3,new Promise((function(e,t){var n=Notification.requestPermission(e);n&&n.then(e,t)})).catch((function(){return"denied"}));case 3:"granted"===t.sent&&i.worker.subscribeToPush(r);case 5:case"end":return t.stop()}}),t)}))),children:"Enable"})}})}),[r,i,t,n])},jt=function(){var e=De().pushPublicKey,t=ge();Object(c.useEffect)((function(){e&&"granted"===Notification.permission&&t.worker.subscribeToPush(e)}),[e,t])},bt=function(){var e=De().user,t=Fe(),n=r.a.useState(null),c=Object(w.a)(n,2),i=c[0],o=c[1],s=q(),l=[{key:"logout",label:"Log out",onClick:function(){t()},Icon:T.a}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{className:s.fullHeight,onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(D,{avatar:e.avatar})}),Object(a.jsx)(S.a,{id:"avatar-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:l.map((function(e){return Object(a.jsxs)(N.a,{onClick:e.onClick,children:[Object(a.jsx)(y.a,{className:s.itemIcon,children:Object(a.jsx)(e.Icon,{})}),Object(a.jsx)(C.a,{children:e.label})]},e.key)}))})]})},pt=r.a.memo(bt),ht=Object(E.a)((function(e){return{topBar:{minHeight:"auto",height:64},fullHeight:{height:"100%"},titleContainer:{paddingRight:e.spacing(6)},list:{padding:0,display:"flex",flexDirection:"row",height:"100%"},item:{height:"100%"},icon:{minWidth:0,paddingRight:e.spacing(1)},filler:{height:64}}})),mt=n(245),Ot=n.n(mt),vt=n(157),ft=n.n(vt),xt=n(65),gt=n.n(xt),yt=n(246),Ct=n.n(yt),wt=[{value:"home",label:"Home",icon:Ot.a},{value:"events",label:"Events",icon:ft.a},{value:"venues",label:"Venues",icon:gt.a},{value:"settings",label:"Settings",icon:Ct.a}],kt=function(){var e=ht(),t=Object(d.h)().pathname.split("/")[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{className:e.topBar,position:"fixed",children:Object(a.jsx)(v.a,{children:Object(a.jsxs)(j.a,{container:!0,className:e.fullHeight,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,className:e.fullHeight,children:Object(a.jsxs)(j.a,{container:!0,className:e.fullHeight,alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,className:e.titleContainer,children:Object(a.jsx)(f.a,{variant:"h5",children:"TeamFindr"})}),Object(a.jsx)(j.a,{item:!0,className:e.fullHeight,children:Object(a.jsx)(x.a,{className:e.list,component:"nav",children:wt.map((function(n){return Object(a.jsxs)(g.a,{className:e.item,selected:n.value===t,button:!0,component:u.b,to:"/".concat(n.value),children:[Object(a.jsx)(y.a,{className:e.icon,children:Object(a.jsx)(n.icon,{})}),Object(a.jsx)(C.a,{children:n.label})]},n.value)}))})})]})}),Object(a.jsx)(j.a,{item:!0,className:e.fullHeight,children:Object(a.jsx)(pt,{})})]})})}),Object(a.jsx)(v.a,{disableGutters:!0,className:e.filler})]})},St=r.a.memo(kt),Nt=n(457),It=n(458),Tt=Object(E.a)((function(e){return{navigation:{position:"fixed",bottom:0,top:"auto",width:"100%",zIndex:e.zIndex.drawer+1},filler:{background:"none"}}})),Pt=function(){var e=Tt(),t=Object(d.g)(),n=Object(d.h)().pathname.split("/")[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Nt.a,{className:e.filler}),Object(a.jsx)(Nt.a,{className:e.navigation,value:n,onChange:function(e,n){t.push("/".concat(n))},children:wt.map((function(e){return Object(a.jsx)(It.a,{value:e.value,label:e.label,icon:Object(a.jsx)(e.icon,{})},e.value)}))})]})},At=r.a.memo(Pt),Et=n(459),Lt=n(41),Bt=Object(E.a)((function(e){return{dangerButton:{color:e.palette.error.main,borderColor:e.palette.error.dark,"&:hover":{borderColor:e.palette.error.light}}}})),Rt=n(402),Dt=function(e){var t=e.title,n=e.actions,c=Bt(),r=Object(Lt.a)(),i=Object(Et.a)(r.breakpoints.down("sm"));return Object(a.jsxs)(j.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(a.jsx)(j.a,{item:!0,children:t?Object(a.jsx)(f.a,{variant:"h6",children:t}):Object(a.jsx)(A.a,{width:200,variant:"text"})}),Object(a.jsx)(j.a,{item:!0,children:n.map((function(e){return i||!e.label?Object(a.jsx)(Rt.a,{className:e.danger?c.dangerButton:void 0,color:"primary",disabled:e.disabled,onClick:e.onClick,children:e.icon},e.key):Object(a.jsx)(k.a,{startIcon:e.icon,className:e.danger?c.dangerButton:void 0,color:"primary",variant:"outlined",onClick:e.onClick,disabled:e.disabled,children:e.label},e.key)}))})]})},Ft=r.a.memo(Dt),qt=Object(E.a)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",height:"100%"},centered:{display:"flex",flex:1,flexDirection:"column",alignItems:"center"},titleContainer:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},content:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",width:"100%",maxWidth:"900px",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}})),Wt=function(e){var t=e.title,n=e.titleActions,c=void 0===n?[]:n,r=e.children,i=qt(),o=Ue();return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(b.a,{smDown:!0,children:Object(a.jsx)(St,{})}),Object(a.jsx)(m.a,{disableWidth:!0,children:function(e){var n=e.height;return Object(a.jsx)(h.a,{autoHide:!0,style:{width:"100%",height:o.clientHeight-n},children:Object(a.jsx)("div",{className:i.centered,children:Object(a.jsxs)("main",{className:i.content,children:[Object(a.jsx)("div",{className:i.titleContainer,children:Object(a.jsx)(Ft,{title:t,actions:c})}),r]})})})}}),Object(a.jsx)(b.a,{mdUp:!0,children:Object(a.jsx)(At,{})})]})},Ht=r.a.memo(Wt),Vt=n(247),Ut=n.n(Vt),zt=function(e){return["city","country"].map((function(t){return e[t]})).filter((function(e){return!!e})).join(", ")||"unknown"},Mt=function(){var e=De().user,t=ke().location,n=Ce(),c=n.permission,r=n.request,i=n.requesting;return Object(a.jsxs)(j.a,{container:!0,direction:"column",alignItems:"center",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(D,{size:"large",firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,avatar:null===e||void 0===e?void 0:e.avatar,loading:!e})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:Object(a.jsx)(gt.a,{})})}),Object(a.jsx)(j.a,{item:!0,children:t?Object(a.jsx)(f.a,{variant:"body2",color:"textSecondary",children:zt(t)}):Object(a.jsx)(A.a,{variant:"text",width:100})})]})}),Object(a.jsx)(j.a,{item:!0,children:"prompt"===c&&Object(a.jsx)(k.a,{startIcon:Object(a.jsx)(Ut.a,{}),color:"primary",variant:"outlined",onClick:r,disabled:i,children:"Improve accuracy"})})]})},Jt=r.a.memo(Mt),Qt=n(151),Gt=n(195),_t=n(163),Kt=n.n(_t),Yt=n(252),Zt=n.n(Yt),$t=n(251),Xt=n.n($t),en=Object(E.a)((function(e){return{eventContainer:{minHeight:200},buttonContainer:{paddingTop:e.spacing(3),paddingBottom:e.spacing(2),display:"flex",justifyContent:"center"}}})),tn=Object(E.a)((function(){return{link:{display:"flex",flex:1,alignItems:"center",textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none",color:"inherit"}}}})),nn=n(460),an=n(461),cn=n(272),rn=n(505),on=n(462),sn=n(463),ln="HH:mm",un="MMM dd",dn=function(e){var t="string"===typeof e?Object(nn.a)(e):e;return Object(an.a)(t)?"Today, ".concat(Object(cn.a)(t,ln)):Object(rn.a)(t)?"Yesterday, ".concat(Object(cn.a)(t,ln)):Object(on.a)(t)?"Tomorrow, ".concat(Object(cn.a)(t,ln)):Object(sn.a)(t)?Object(cn.a)(t,"".concat(un,", ").concat(ln)):Object(cn.a)(t,"".concat(un," ").concat("yyyy",", ").concat(ln))},jn=n(248),bn=n.n(jn),pn=n(127),hn=n.n(pn),mn=n(249),On=n.n(mn),vn=n(250),fn=n.n(vn),xn={Football:ft.a,Basketball:bn.a,Tennis:hn.a,Squash:hn.a,Volleyball:On.a,Handball:fn.a,Padel:hn.a,Badminton:hn.a,"Table tennis":hn.a},gn={EUR:"\ud83c\uddea\ud83c\uddfa",RON:"\ud83c\uddf7\ud83c\uddf4",GBP:"\ud83c\uddec\ud83c\udde7",USD:"\ud83c\uddfa\ud83c\uddf8"},yn=["EUR","RON","GBP","USD"],Cn=function(e){var t=e.event,n=tn(),c=xn[t.sport];return Object(a.jsx)(g.a,{button:!0,component:"li",children:Object(a.jsx)(u.b,{className:n.link,to:"/events/".concat(t.id),children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(P.a,{variant:"rounded",children:Object(a.jsx)(c,{})})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"body1",children:"".concat(t.sport," - ").concat(dn(t.startsAt))})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"body2",color:"textSecondary",children:t.venue.name})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(D,{firstName:t.createdBy.firstName,lastName:t.createdBy.lastName,size:"small",avatar:t.createdBy.avatar})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"caption",color:"textSecondary",children:"Hosted by ".concat(t.createdBy.firstName," ").concat(t.createdBy.lastName)})})]})})]})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"caption",color:"textSecondary",children:"".concat(t.price.amount," ").concat(t.price.currency," ").concat(gn[t.price.currency])})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"caption",color:"textSecondary",children:"".concat(t.numParticipants," / ").concat(t.capacity)})})]})})]})})})},wn=r.a.memo(Cn),kn=function(e){var t=e.events;return Object(a.jsx)(x.a,{children:t.map((function(e){return Object(a.jsx)(wn,{event:e},e.id)}))})},Sn=r.a.memo(kn),Nn=n(489),In=n(464),Tn=n(276),Pn=Object(E.a)((function(e){return{tabPanel:{paddingTop:e.spacing(2)},tabLabelContainer:{display:"flex",alignItems:"center"},tabIcon:{paddingRight:e.spacing(1)}}})),An=function(e){var t,n=e.value,c=e.onChange,r=e.tabs,i=Pn(),o=r.find((function(e){return e.value===n}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Nn.a,{value:n,onChange:function(e,t){return c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:r.map((function(e){var t,n=e.linkTo?{component:u.b,to:e.linkTo}:{};return Object(a.jsx)(In.a,Object(G.a)(Object(G.a)({value:e.value},n),{},{label:Object(a.jsxs)("div",{className:i.tabLabelContainer,children:[Object(a.jsx)(Tn.a,{className:i.tabIcon,children:Object(a.jsx)(e.Icon,{})}),e.label]}),disabled:e.disabled},(t=e.value,{id:"settings-tab-".concat(t),"aria-controls":"settings-tabpanel-".concat(t)})),e.value)}))}),Object(a.jsx)("div",Object(G.a)(Object(G.a)({className:i.tabPanel},(t=o.value,{role:"tabpanel",id:"settings-tabpanel-".concat(t),"aria-labelledby":"settings-tab-".concat(t)})),{},{children:Object(a.jsx)(o.Component,{})}))]})},En=r.a.memo(An),Ln=r.a.memo((function(e){var t=e.mode,n=en(),r=Object(c.useState)(new Date),i=Object(w.a)(r,1)[0],o=nt(Object(Qt.a)({isParticipant:!0},t,i)).events;return o?Object(a.jsxs)(j.a,{container:!0,className:n.eventContainer,direction:"column",justify:"space-between",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Sn,{events:o})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)("div",{className:n.buttonContainer,children:Object(a.jsx)(k.a,{color:"primary",variant:"outlined",component:u.b,to:"/events",startIcon:Object(a.jsx)(Xt.a,{}),children:"Look for an event"})})})]}):Object(a.jsx)(A.a,{width:"100%",height:200,variant:"rect"})})),Bn=[{value:"future",label:"Upcoming events",Icon:Kt.a,Component:function(){return Object(a.jsx)(Ln,{mode:"after"})}},{value:"past",label:"Past events",Icon:Zt.a,Component:function(){return Object(a.jsx)(Ln,{mode:"before"})}}],Rn=function(){var e=Object(c.useState)("future"),t=Object(w.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)(Gt.a,{children:Object(a.jsx)(En,{value:n,onChange:r,tabs:Bn})})},Dn=r.a.memo(Rn),Fn=function(){return Object(a.jsx)(Ht,{title:"Home",children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Jt,{})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Dn,{})})]})})},qn=r.a.memo(Fn),Wn=n(168),Hn=n.n(Wn),Vn=n(449),Un=n(165),zn=n.n(Un),Mn=n(164),Jn=n.n(Mn),Qn=n(499),Gn=n(493),_n=function(e,t){return e?t.find((n=e,function(e){var t=n.geo.coordinates,a=e.geo.coordinates;return t[0]===a[0]&&t[1]===a[1]}))?t:[e].concat(Object(se.a)(t)):t;var n},Kn=function(e){return"Enter a ".concat(e||"location")},Yn=function(e){var t=e.value,n=e.around,r=e.onChange,i=e.disabled,o=void 0!==i&&i,s=e.required,l=void 0!==s&&s,u=e.restrictToType,d=e.name,b=e.error,p=void 0!==b&&b,h=e.helperText,m=e.onBlur,O=Object(c.useState)(""),v=Object(w.a)(O,2),x=v[0],g=v[1],y=Ne({query:x,around:n,restrictToType:u}),C=y.suggestions,k=y.loading;return Object(a.jsx)(Gn.a,{fullWidth:!0,disabled:o,getOptionLabel:function(e){return function(e,t){return t&&"house"!==t?e[t]||e.name:e.name||e.description||""}(e,u)},options:_n(t,C),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,disableClearable:!0,value:t,loading:k,noOptionsText:"No results",onChange:function(e,t){r(t)},onInputChange:function(e,t){g(t)},renderInput:function(e){return Object(a.jsx)(Qn.a,Object(G.a)(Object(G.a)({},e),{},{name:d,label:Kn(u),variant:"outlined",fullWidth:!0,required:l,error:p,helperText:h,onBlur:m}))},renderOption:function(e){return Object(a.jsxs)(j.a,{container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:Object(a.jsx)(gt.a,{})})}),Object(a.jsxs)(j.a,{item:!0,xs:!0,children:[Object(a.jsx)(f.a,{color:"textPrimary",children:e.name}),Object(a.jsx)(f.a,{color:"textSecondary",children:e.description||""})]})]})}})},Zn=r.a.memo(Yn),$n=n(468),Xn=n(500),ea=n(469),ta=n(501),na=n(56),aa=n.n(na),ca=aa.a.icon({iconUrl:"/icons/marker.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-20]}),ra=aa.a.icon({iconUrl:"/icons/marker-selected.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-20]}),ia=aa.a.icon({iconUrl:"/icons/pin.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-15]}),oa=function(e){return[e[1],e[0]]},sa=function(e){var t=e.onChange,n=e.location,a=Object(Ie.a)(),r=Ae();Object(Ie.b)({click:function(e){a.setView([e.latlng.lat,e.latlng.lng],a.getZoom())}});var i=Object(c.useState)(null),o=Object(w.a)(i,2),s=o[0],l=o[1],u=n.geo.coordinates;return Object(c.useEffect)((function(){t&&r&&r!==s&&(t(r),l(r))}),[r,t,s,l]),Object(c.useEffect)((function(){a.setView(oa(u),a.getZoom())}),[a,u]),null},la=function(e){var t=e.location,n=e.onChange,c=e.circleRadius,r=e.markers;if(!t)return Object(a.jsx)(A.a,{width:"100%",height:310,variant:"rect"});var i=t.geo.coordinates,o=oa(i);return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)($n.a,{zoom:12,scrollWheelZoom:!0,children:[Object(a.jsx)(sa,{location:t,onChange:n}),Object(a.jsx)(Xn.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(a.jsx)(ea.a,{position:o,icon:ia}),c&&Object(a.jsx)(ta.a,{center:o,pathOptions:{color:"green",fillColor:"green"},radius:c}),!!r&&r]})})},ua=r.a.memo(la),da=n(507),ja=Object(E.a)((function(e){return{root:{width:"100%"},sliderContainer:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)}}})),ba=function(e){var t=e.id,n=e.value,r=e.onChange,i=e.name,o=e.disabled,s=e.valueText,l=void 0===s?function(e){return e.toString()}:s,u=e.marks,d=e.label,j=e.step,b=e.min,p=e.max,h=ja(),m=Object(c.useCallback)((function(e,t){r(e,t)}),[r]);return Object(a.jsxs)("div",{className:h.root,children:[Object(a.jsxs)(f.a,{id:t,gutterBottom:!0,children:[d,": ","".concat(l(n))]}),Object(a.jsx)("div",{className:h.sliderContainer,children:Object(a.jsx)(da.a,{getAriaValueText:l,"aria-labelledby":t,step:j,marks:u,min:b,max:p,name:i,value:n,onChange:m,disabled:o})})]})},pa=r.a.memo(ba);function ha(e){return"".concat(Math.round(e/1e3),"km")}var ma=[{value:1e3,label:"1km"},{value:5e3,label:"5km"},{value:1e4,label:"10km"},{value:2e4,label:"20km"},{value:3e4,label:"30km"}],Oa=function(e){var t=e.id,n=e.value,c=e.onChange,r=e.name,i=e.disabled;return Object(a.jsx)(pa,{label:"Radius",id:t,valueText:ha,step:1e3,marks:ma,min:1e3,max:3e4,name:r,value:n,onChange:c,disabled:i})},va=r.a.memo(Oa),fa=function(e){var t=e.id,n=e.value,c=e.onChange,r=e.name,i=e.disabled;return Object(a.jsx)(pa,{label:"Number of players",id:t,step:1,min:2,max:30,name:r,value:n,onChange:c,disabled:i})},xa=r.a.memo(fa),ga=function(e){return"".concat(e," min")},ya=function(e){var t=e.id,n=e.value,c=e.onChange,r=e.name,i=e.disabled;return Object(a.jsx)(pa,{label:"Duration",id:t,valueText:ga,step:15,min:15,max:120,name:r,value:n,onChange:c,disabled:i})},Ca=r.a.memo(ya),wa=function(e){var t=e.location,n=e.onChange,r=e.disabled,i=void 0!==r&&r,o=e.name,s=e.error,l=void 0!==s&&s,u=e.helperText,d=e.onBlur,b=e.disableChangePositionViaMap,p=e.restrictToType,h=e.circleRadius,m=e.onRadiusChange,O=e.markers,v=Object(Lt.a)(),f=Object(Et.a)(v.breakpoints.down("sm")),x=Object(c.useState)(!1),g=Object(w.a)(x,2),y=g[0],C=g[1],k=ke().location;return Object(c.useEffect)((function(){!t&&k&&n(k)}),[k,n,t]),Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignContent:"center",justify:"space-between",children:[Object(a.jsx)(j.a,{item:!0,xs:9,md:12,children:Object(a.jsx)(Zn,{name:o,value:t,onChange:n,disabled:i||b,required:!0,around:null===k||void 0===k?void 0:k.geo.coordinates,error:l,helperText:u,onBlur:d,restrictToType:p})}),f&&Object(a.jsx)(j.a,{item:!0,xs:2,children:Object(a.jsx)(Rt.a,{color:"primary",onClick:function(){return C((function(e){return!e}))},children:y?Object(a.jsx)(Jn.a,{}):Object(a.jsx)(zn.a,{})})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Vn.a,{in:!f||y,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ua,{location:t,onChange:n,circleRadius:h,markers:O})}),h&&m&&Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(va,{id:"venue-field-radius",value:h,disabled:!t,onChange:m})})]})})})]})},ka=r.a.memo(wa),Sa=n(506),Na=["Football","Basketball","Tennis","Squash","Volleyball","Handball","Padel","Badminton","Table tennis"],Ia=function(e){if(function(e){return e in xn}(e)){var t=xn[e];return Object(a.jsx)(t,{})}},Ta=function(e){var t=e.value,n=e.multiple,c=e.onChange,r=e.disabled,i=e.required,o=e.name,s=e.error,l=e.helperText,u=e.onBlur;return Object(a.jsx)(Gn.a,{value:t,onChange:function(e,t){return c(t)},multiple:n,filterSelectedOptions:!0,disabled:r,options:Na,renderTags:function(e,t){return e.map((function(e,n){return Object(a.jsx)(Sa.a,Object(G.a)({variant:"outlined",icon:Ia(e),label:e},t({index:n})))}))},renderInput:function(e){return Object(a.jsx)(Qn.a,Object(G.a)(Object(G.a)({},e),{},{variant:"outlined",fullWidth:!0,disabled:r,required:i,name:o,error:s,helperText:l,onBlur:u,label:n?"Sports":"Sport"}))},renderOption:function(e){return Object(a.jsxs)(j.a,{container:!0,alignContent:"center",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:Ia(e)||null})}),Object(a.jsx)(j.a,{item:!0,xs:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:e})})]})}})},Pa=r.a.memo(Ta),Aa=n(470),Ea=function(e){var t=e.value,n=e.onChange,c=e.disabled,r=e.disablePast;return Object(a.jsx)(Aa.a,{autoOk:!0,fullWidth:!0,inputVariant:"outlined",label:"Date",clearable:!0,disablePast:r,value:t,onChange:n,format:"yyyy/MM/dd",placeholder:"yyyy/mm/dd",disabled:c})},La=r.a.memo(Ea),Ba=n(496),Ra=function(e){var t=e.value,n=e.onChange,c=e.disabled,r=e.onBlur,i=e.name,o=e.required,s=e.error,l=e.helperText,u=e.disablePast;return Object(a.jsx)(Ba.a,{name:i,autoOk:!0,disablePast:u,fullWidth:!0,error:s,helperText:l,required:o,inputVariant:"outlined",label:"Date & time",clearable:!0,value:t,onChange:n,format:"yyyy/MM/dd HH:mm",placeholder:"yyyy/mm/dd hh:mm",disabled:c,onBlur:r})},Da=r.a.memo(Ra),Fa=n(474),qa=n(492),Wa=Object(E.a)((function(e){return{filtersPaper:{padding:e.spacing(2)},eventsPaper:{minHeight:"100%"}}})),Ha=n(408),Va=n(472),Ua=n(254),za=n.n(Ua),Ma=Object(E.a)((function(e){return{dialogPaper:{minWidth:500,maxWidth:900},title:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Ja=function(e){var t=e.id,n=e.open,c=e.onClose,r=e.title,i=e.children,o=e.loading,s=void 0!==o&&o,l=Object(Lt.a)(),u=Object(Et.a)(l.breakpoints.down("sm")),d="".concat(t,"-title"),j=Ma();return Object(a.jsxs)(Ha.a,{classes:{paper:u?void 0:j.dialogPaper},fullScreen:u,disableBackdropClick:s,disableEscapeKeyDown:s,onClose:c,"aria-labelledby":d,open:n,scroll:"paper",children:[Object(a.jsxs)(Va.a,{id:d,className:j.title,disableTypography:!0,children:[Object(a.jsx)(f.a,{variant:"h6",children:r}),c?Object(a.jsx)(Rt.a,{"aria-label":"close",className:j.closeButton,onClick:c,children:Object(a.jsx)(za.a,{})}):null]}),n&&i]})},Qa=r.a.memo(Ja),Ga=n(405),_a=n(471),Ka=function(e){var t=e.actions,n=e.loading,c=void 0!==n&&n;return Object(a.jsx)(Ga.a,{children:t.map((function(e){return Object(a.jsx)(k.a,{type:e.type,onClick:e.onClick,color:"primary",variant:"outlined",disabled:e.disabled||c,children:e.loading?Object(a.jsx)(_a.a,{size:24,color:"primary"}):e.label},e.key)}))})},Ya=r.a.memo(Ka),Za=n(404),$a=function(e){var t=e.children;return Object(a.jsx)(Za.a,{dividers:!0,children:t})},Xa=r.a.memo($a),ec=Object(E.a)((function(e){return{form:{overflowY:"auto",display:"flex",flex:1,flexDirection:"column"}}})),tc=function(e){var t=e.children,n=e.onSubmit,c=ec();return Object(a.jsx)("form",{className:c.form,onSubmit:n,children:t})},nc=r.a.memo(tc),ac=n(171),cc=function(e,t){return e?t.find((function(t){return t.id===e.id}))?t:[e].concat(Object(se.a)(t)):t},rc=function(e){var t=e.value,n=e.onChange,c=e.options,r=e.loading,i=e.disabled,o=e.required,s=e.name,l=e.error,u=e.helperText,d=e.onBlur;return Object(a.jsx)(Gn.a,{value:t,onChange:function(e,t){return n(t)},disabled:i,options:cc(t,c),loading:r,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(Qn.a,Object(G.a)(Object(G.a)({},e),{},{variant:"outlined",fullWidth:!0,disabled:i,required:o,name:s,error:l,helperText:u,onBlur:d,label:"Venue"}))},renderOption:function(e){return Object(a.jsxs)(j.a,{container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:Object(a.jsx)(gt.a,{})})}),Object(a.jsxs)(j.a,{item:!0,xs:!0,children:[Object(a.jsx)(f.a,{color:"textPrimary",children:e.name}),Object(a.jsx)(f.a,{color:"textSecondary",children:e.location.description||""})]})]})}})},ic=r.a.memo(rc),oc=n(473),sc=function(e){var t=e.venues,n=void 0===t?[]:t,c=e.selected,r=e.onSelect;return Object(a.jsx)(a.Fragment,{children:n.map((function(e){return Object(a.jsx)(ea.a,{position:oa(e.location.geo.coordinates),icon:c&&c.id===e.id?ra:ca,children:Object(a.jsx)(oc.a,{children:Object(a.jsx)(k.a,{onClick:function(){return r(e)},children:e.name})})},e.id)}))})},lc=r.a.memo(sc),uc=function(e){var t=e.value,n=e.onChange,r=e.name,i=e.disabled,o=void 0!==i&&i,s=e.error,l=void 0!==s&&s,u=e.helperText,d=e.onBlur,b=Object(Lt.a)(),p=Object(Et.a)(b.breakpoints.down("sm")),h=Object(c.useState)(!1),m=Object(w.a)(h,2),O=m[0],v=m[1],f=Object(c.useState)(null),x=Object(w.a)(f,2),g=x[0],y=x[1],C=ke(),k=C.location,S=C.isLoading;Object(c.useEffect)((function(){!g&&k&&y(k)}),[k,y,g]);var N=Object(c.useState)(5e3),I=Object(w.a)(N,2),T=I[0],P=I[1],A=_e(g,T),E=A.venues,L=A.isLoading;return Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignContent:"center",justify:"space-between",children:[Object(a.jsx)(j.a,{item:!0,xs:9,md:12,children:Object(a.jsx)(ic,{value:t,options:E||[],loading:L,onChange:n,disabled:o,required:!0,name:r,error:l,helperText:u,onBlur:d})}),p&&Object(a.jsx)(j.a,{item:!0,xs:2,children:Object(a.jsx)(Rt.a,{color:"primary",onClick:function(){return v((function(e){return!e}))},children:O?Object(a.jsx)(Jn.a,{}):Object(a.jsx)(zn.a,{})})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Vn.a,{in:!p||O,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ua,{location:g,onChange:y,circleRadius:T,markers:Object(a.jsx)(lc,{selected:t,venues:E,onSelect:n})})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(va,{id:"venue-field-radius",value:T,disabled:S,onChange:function(e,t){return P(t)}})})]})})})]})},dc=r.a.memo(uc),jc=n(467),bc=n(503),pc=n(491),hc=Object(E.a)((function(e){return{itemIcon:{minWidth:0,paddingRight:e.spacing(1)}}})),mc=function(e){var t=e.value,n=e.onChange,c=e.name,r=e.disabled,i=e.error,o=(e.helperText,e.onBlur),s=hc();return Object(a.jsxs)(jc.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(bc.a,{children:"Currency"}),Object(a.jsx)(pc.a,{value:t,name:c,onChange:function(e){return n(e,e.target.value)},label:"Currency",disabled:r,error:i,onBlur:o,children:yn.map((function(e){return Object(a.jsxs)(N.a,{value:e,children:[Object(a.jsx)(y.a,{className:s.itemIcon,children:gn[e]}),Object(a.jsxs)(f.a,{variant:"inherit",children:[" ",e]})]},e)}))})]})},Oc=r.a.memo(mc),vc=function(e){var t=e.onClose,n=Object(d.g)(),r=tt(),i=Object(Ye.b)().enqueueSnackbar,o=dt(),s=Be(),l=Object(c.useMemo)((function(){return function(e){return{venue:null,sport:null,capacity:2,startsAt:null,duration:60,amount:5,currency:yn.includes(e)?e:"EUR",description:"",autoJoin:!0,linkOnly:!1}}(s)}),[s]);return Object(c.useEffect)((function(){var e;r.isSuccess&&(t(),n.push("/events/".concat(null===(e=r.data)||void 0===e?void 0:e.id)),i("Event created",{variant:"success"}),o());r.isError&&i("Failed to create event",{variant:"error"})}),[i,o,r.isSuccess,r.isError,r.data,t,n]),Object(a.jsx)(ac.a,{initialValues:l,onSubmit:function(e){var t,n;r.mutate({startsAt:null===(t=e.startsAt)||void 0===t?void 0:t.toISOString(),venue:null===(n=e.venue)||void 0===n?void 0:n.id,sport:e.sport,duration:e.duration,capacity:e.capacity,description:e.description,price:{amount:e.amount,currency:e.currency},autoJoin:e.autoJoin,linkOnly:e.linkOnly})},validate:function(e){var t={};return e.venue||(t.venue="Required"),e.sport||(t.sport="Required"),(e.capacity<2||e.capacity>30)&&(t.capacity="Should be between 2 and 30"),e.amount<0&&(t.amount="Should be positive or 0"),e.currency||(t.currency="Required"),e.description||(t.description="Required"),e.startsAt||(t.startsAt="Required"),t},children:function(e){var t=e.values,n=e.errors,c=e.touched,i=e.handleChange,o=e.handleBlur,s=e.handleSubmit,l=e.setFieldValue;return Object(a.jsxs)(nc,{onSubmit:s,children:[Object(a.jsx)(Xa,{children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(dc,{name:"venue",value:t.venue,onChange:function(e){return l("venue",e)},onBlur:o,error:c.venue&&!!n.venue,helperText:c.venue&&n.venue})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Pa,{name:"sport",value:t.sport,onChange:function(e){return l("sport",e)},onBlur:o,error:c.sport&&!!n.sport,helperText:c.sport&&n.sport})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(xa,{id:"new-event-players-slider",name:"capacity",value:t.capacity,onChange:function(e,t){return l("capacity",t)}})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,xs:6,md:6,children:Object(a.jsx)(Fa.a,{control:Object(a.jsx)(qa.a,{name:"autoJoin",checked:t.autoJoin,onChange:i,color:"primary"}),label:"Join"})}),Object(a.jsx)(j.a,{item:!0,xs:6,md:6,children:Object(a.jsx)(Fa.a,{control:Object(a.jsx)(qa.a,{name:"linkOnly",checked:t.linkOnly,onChange:i,color:"primary"}),label:"Private (link-only)"})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Da,{required:!0,name:"startsAt",value:t.startsAt,onChange:function(e){return l("startsAt",e)},onBlur:o,disablePast:!0,error:c.startsAt&&!!n.startsAt,helperText:c.startsAt&&n.startsAt})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Ca,{id:"new-event-duration-slider",name:"duration",value:t.duration,onChange:function(e,t){return l("duration",t)}})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,xs:7,md:8,children:Object(a.jsx)(Qn.a,{name:"amount",inputProps:{style:{textAlign:"right"}},value:t.amount,label:"Price",type:"number",fullWidth:!0,variant:"outlined",onChange:i,onBlur:o,error:c.amount&&!!n.amount,helperText:c.amount&&n.amount})}),Object(a.jsx)(j.a,{item:!0,xs:5,md:4,children:Object(a.jsx)(Oc,{name:"currency",value:t.currency,onChange:i,onBlur:o,error:c.currency&&!!n.currency,helperText:c.currency&&n.currency})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Qn.a,{name:"description",label:"Description",placeholder:"Add indications or rules about the event.",fullWidth:!0,multiline:!0,variant:"outlined",onChange:i,onBlur:o,error:c.description&&!!n.description,helperText:c.description&&n.description})})]})}),Object(a.jsx)(Ya,{actions:[{key:"create",label:"Create",loading:r.isLoading,type:"submit"}]})]})}})},fc=function(e){var t=e.open,n=e.onClose;return Object(a.jsx)(Qa,{id:"new-event-dialog",title:"New event",open:t,onClose:n,children:Object(a.jsx)(vc,{onClose:n})})},xc=r.a.memo(fc),gc=Object(E.a)((function(e){return{list:{paddingInlineStart:e.spacing(2)}}})),yc=function(e){var t=e.events,n=gc(),r=Object(c.useState)({}),i=Object(w.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){var e={};(t||[]).forEach((function(t){var n=e[t.venue.id]||[];n.push(t),e[t.venue.id]=n})),s(e)}),[t,s]),Object(a.jsx)(a.Fragment,{children:Object.keys(o).map((function(e){var t=o[e],c=t[0].venue;return Object(a.jsx)(ea.a,{position:oa(c.location.geo.coordinates),icon:ca,children:Object(a.jsx)(oc.a,{children:Object(a.jsxs)(j.a,{container:!0,direction:"column",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"caption",children:c.name})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)("ul",{className:n.list,children:t.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(u.b,{to:"/events/".concat(e.id),children:Object(a.jsx)(f.a,{variant:"caption",children:"".concat(dn(e.startsAt)," - ").concat(e.sport)})})},e.id)}))})})]})})},c.id)}))})},Cc=r.a.memo(yc),wc=function(){var e,t=Wa(),n=Object(c.useState)(null),r=Object(w.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(5e3),l=Object(w.a)(s,2),u=l[0],d=l[1],b=Object(c.useState)([]),p=Object(w.a)(b,2),h=p[0],m=p[1],O=Object(c.useState)(new Date),v=Object(w.a)(O,2),f=v[0],x=v[1],g=Object(c.useState)(!1),y=Object(w.a)(g,2),C=y[0],k=y[1],S=ke(),N=nt({location:i,radius:u,sports:h,date:f,excludeFull:C}).events,I=Object(c.useState)(!1),T=Object(w.a)(I,2),P=T[0],E=T[1];return Object(c.useEffect)((function(){S.location&&!i&&o(S.location)}),[S,i]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ht,{title:"Events",titleActions:[{key:"newEvent",label:"New event",icon:Object(a.jsx)(Hn.a,{}),onClick:function(){return E(!0)}}],children:Object(a.jsxs)(j.a,{container:!0,spacing:3,children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Gt.a,{className:t.filtersPaper,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ka,{location:i,onChange:o,disabled:S.isLoading,around:null===(e=S.location)||void 0===e?void 0:e.geo.coordinates,circleRadius:u,onRadiusChange:function(e,t){return d(t)},markers:Object(a.jsx)(Cc,{events:N})})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Pa,{multiple:!0,value:h,onChange:m,disabled:S.isLoading})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(La,{value:f,onChange:x,disabled:S.isLoading,disablePast:!0})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Fa.a,{control:Object(a.jsx)(qa.a,{checked:C,onChange:function(e,t){return k(t)},color:"primary",disabled:S.isLoading}),label:"Exclude full"})})]})})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:N?Object(a.jsx)(Gt.a,{className:t.eventsPaper,children:N&&Object(a.jsx)(Sn,{events:N})}):Object(a.jsx)(A.a,{width:"100%",height:"100%",variant:"rect"})})]})}),Object(a.jsx)(xc,{open:P,onClose:function(){return E(!1)}})]})},kc=r.a.memo(wc),Sc=n(169),Nc=n.n(Sc),Ic=n(477),Tc=n(478),Pc=n(479),Ac=n(476),Ec=n(260),Lc=n.n(Ec),Bc=n(262),Rc=n.n(Bc),Dc=n(261),Fc=n.n(Dc),qc=Object(E.a)((function(e){return{card:{width:"100%"},info:{padding:e.spacing(1),color:e.palette.text.secondary},iconContainer:{display:"flex",alignItems:"center"},address:{flex:1}}})),Wc=function(e){if(!e)return"";var t=Object(w.a)(e.location.geo.coordinates,2),n=t[0],a=t[1];return"https://www.google.com/maps/dir/?api=1&destination=".concat(a,",").concat(n)},Hc=n(475),Vc=n(259),Uc=n.n(Vc),zc=Object(E.a)((function(e){return{denseButton:{padding:"0px 5px"}}})),Mc=n(257),Jc=n.n(Mc),Qc=n(258),Gc=n.n(Qc),_c=function(e){var t=new Date(e.startsAt);return new Date(t.getTime()+60*e.duration*1e3)},Kc=function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},Yc=function(e){return Gc.a.format({protocol:"https",host:"www.google.com",pathname:"/calendar/render",query:{action:"TEMPLATE",text:e.sport,dates:"".concat(Kc(new Date(e.startsAt)),"/").concat(Kc(_c(e))),details:"".concat(e.description,"\n").concat(ot(e.id)),location:e.venue.name}})},Zc=function(e){var t=e.event,n=zc(),r=Object(c.useState)(!1),i=Object(w.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(null),u=function(){s(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Hc.a,{variant:"outlined",color:"primary",ref:l,disabled:!t,children:[Object(a.jsx)(k.a,{className:n.denseButton,component:Ac.a,href:t?Yc(t):void 0,rel:"nofollow noreferrer",target:"_blank",underline:"none",onClick:u,disabled:!t,children:"Add to Google Calendar"}),Object(a.jsx)(k.a,{className:n.denseButton,color:"primary",size:"small",onClick:function(){s((function(e){return!e}))},children:Object(a.jsx)(Uc.a,{})})]}),Object(a.jsx)(S.a,{id:"add-to-calendar-menu",anchorEl:l.current,keepMounted:!0,open:o,onClose:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(a.jsx)(N.a,{dense:!0,onClick:function(){u(),function(e){var t=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","DTSTART:".concat(Kc(new Date(e.startsAt))),"DTEND:".concat(Kc(_c(e))),"SUMMARY:".concat(e.sport),"DESCRIPTION:".concat(e.description,"\n").concat(ot(e.id)),"LOCATION:".concat(e.venue.name),"END:VEVENT","END:VCALENDAR"].join("\n");Jc()(t,"event.ics")}(t)},children:"Download ICS"})})]})},$c=r.a.memo(Zc),Xc=function(e){var t=e.icon,n=e.text,c=e.link,r=e.rightDecoration,i=qc(),o=Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:1,alignItems:"center",className:i.info,children:[Object(a.jsx)(j.a,{item:!0,className:i.iconContainer,children:t}),Object(a.jsx)(j.a,{item:!0,className:i.address,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between",children:[Object(a.jsx)(j.a,{item:!0,children:n?Object(a.jsx)(f.a,{variant:"body2",color:"textSecondary",children:n}):Object(a.jsx)(A.a,{variant:"text"})}),Object(a.jsx)(j.a,{item:!0,children:r||null})]})})]});return c?Object(a.jsx)(Ac.a,{component:"a",href:c,rel:"nofollow noopener",target:"_blank",color:"inherit",underline:"none",children:o}):o},er=function(e){var t=e.event,n=qc(),c=null===t||void 0===t?void 0:t.venue,i=[{key:"sport",Icon:t?xn[t.sport]:xn.Football,text:null===t||void 0===t?void 0:t.sport},{key:"location",Icon:gt.a,text:c&&"".concat(c.name," - ").concat(c.location.description||c.location.name||""),link:Wc(c)},{key:"date",Icon:Kt.a,text:t?dn(null===t||void 0===t?void 0:t.startsAt):"",rightDecoration:Object(a.jsx)($c,{event:t})},{key:"price",Icon:Lc.a,text:t?"".concat(t.price.amount," ").concat(t.price.currency," ").concat(gn[t.price.currency]):""},{key:"linkOnly",Icon:Fc.a,text:"Private event - only users with the link can see it.",hidden:!t||!t.linkOnly},{key:"description",Icon:Rc.a,text:null===t||void 0===t?void 0:t.description}];return Object(a.jsxs)(Ic.a,{className:n.card,children:[Object(a.jsx)(j.a,{container:!0,direction:"column",children:i.map((function(e,t){return e.hidden?null:Object(a.jsxs)(r.a.Fragment,{children:[t>0&&Object(a.jsx)(Tc.a,{}),Object(a.jsx)(Xc,{icon:Object(a.jsx)(e.Icon,{}),text:e.text,link:e.link,rightDecoration:e.rightDecoration})]},e.key)}))}),Object(a.jsx)(Pc.a,{children:Object(a.jsx)(ua,{location:(null===c||void 0===c?void 0:c.location)||null})})]})},tr=r.a.memo(er),nr=n(480),ar=n(481),cr=n(263),rr=n.n(cr),ir=Object(E.a)((function(e){return{button:{color:e.palette.error.main,borderColor:e.palette.error.dark,"&:hover":{borderColor:e.palette.error.light}}}})),or=function(e){var t=e.participant,n=e.onLeave,c=e.leaving,r=e.isPast,i=t.user,o=ir(),s=De().user,l=s&&s.id===i.id;return Object(a.jsxs)(g.a,{component:"li",children:[Object(a.jsx)(nr.a,{children:Object(a.jsx)(D,{firstName:i.firstName,lastName:i.lastName,avatar:i.avatar})}),Object(a.jsx)(C.a,{primary:"".concat(i.firstName," ").concat(i.lastName)}),l&&!r&&Object(a.jsx)(ar.a,{children:Object(a.jsx)(k.a,{className:o.button,startIcon:Object(a.jsx)(rr.a,{}),color:"primary",variant:"outlined",disabled:c,onClick:function(e){e.preventDefault(),n()},children:c?Object(a.jsx)(_a.a,{size:24,color:"primary"}):"Leave"})})]})},sr=r.a.memo(or),lr=function(e){var t=e.participants,n=e.onLeave,c=e.leaving,r=e.isPast;return t?Object(a.jsx)(x.a,{children:t.map((function(e){return Object(a.jsx)(sr,{participant:e,onLeave:n,leaving:c,isPast:r},e.id)}))}):Object(a.jsx)(A.a,{variant:"rect",width:"100%",height:"100%"})},ur=r.a.memo(lr),dr=Object(E.a)((function(e){return{paper:{minHeight:"100%"},titleContainer:{padding:e.spacing(2)}}})),jr=function(e){var t=e.eventId,n=dr(),r=at(t).event,i=De().user,o=Object(Ye.b)().enqueueSnackbar,s=dt(),l=ct(t),u=l.participants,d=l.isLoading,b=rt(),p=it(),h=r&&r.numParticipants>=r.capacity,m=u&&i&&!!u.find((function(e){return e.user.id===i.id})),O=Boolean(r&&r.startsAt<(new Date).toISOString()),v=r?xn[r.sport]:null,x=v?Object(a.jsx)(v,{}):null,g=r?" (".concat(r.numParticipants,"/").concat(r.capacity,")"):"";return Object(c.useEffect)((function(){b.isSuccess&&(o("Joined event!",{variant:"success"}),s()),b.isError&&o("Failed to join event",{variant:"error"})}),[o,s,b.isSuccess,b.isError]),Object(c.useEffect)((function(){p.isSuccess&&o("Left event!",{variant:"success"}),p.isError&&o("Failed to leave event",{variant:"error"})}),[o,p.isSuccess,p.isError]),Object(a.jsx)(Gt.a,{className:n.paper,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:n.titleContainer,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(f.a,{variant:"body1",color:"textSecondary",children:["Participants",g]})}),Object(a.jsx)(j.a,{item:!0,children:u&&!m&&Object(a.jsx)(k.a,{startIcon:x,color:"primary",variant:"outlined",disabled:d||b.isLoading||h||O,onClick:function(){return b.mutate(t)},children:b.isLoading?Object(a.jsx)(_a.a,{size:24,color:"primary"}):h?"Full":"Join"})})]})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ur,{participants:u,onLeave:function(){return p.mutate(t)},leaving:p.isLoading,isPast:O})})]})})},br=r.a.memo(jr),pr=function(){var e=Object(d.i)().eventId,t=at(e).event,n=st(t);return Object(a.jsx)(Ht,{title:"Event",titleActions:[{key:"share",icon:Object(a.jsx)(Nc.a,{}),disabled:!t,onClick:n}],children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(tr,{event:t})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(br,{eventId:e})})]})})},hr=r.a.memo(pr),mr={name:"",location:null},Or=function(e){var t=e.onClose,n=Qe(),r=Object(Ye.b)().enqueueSnackbar;return Object(c.useEffect)((function(){n.isSuccess&&(t(),r("Venue created",{variant:"success"})),n.isError&&r("Failed to create venue",{variant:"error"})}),[r,n.isSuccess,n.isError,t]),Object(a.jsx)(ac.a,{initialValues:mr,onSubmit:function(e){n.mutate({name:e.name,location:e.location})},validate:function(e){var t={};return e.name||(t.name="Required"),e.location||(t.location="Required"),t},children:function(e){var t=e.values,c=e.errors,r=e.touched,i=e.handleChange,o=e.handleBlur,s=e.handleSubmit,l=e.setFieldValue;return Object(a.jsxs)(nc,{onSubmit:s,children:[Object(a.jsx)(Xa,{children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Qn.a,{required:!0,label:"Name",variant:"outlined",name:"name",value:t.name,fullWidth:!0,onChange:i,error:r.name&&!!c.name,helperText:r.name&&c.name,onBlur:o})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ka,{name:"location",location:t.location,error:r.location&&!!c.location,helperText:r.location&&c.location,onBlur:o,onChange:function(e){return l("location",e)}})})]})}),Object(a.jsx)(Ya,{actions:[{key:"create",label:"Create",loading:n.isLoading,type:"submit"}]})]})}})},vr=function(e){var t=e.open,n=e.onClose;return Object(a.jsx)(Qa,{id:"new-venue-dialog",title:"New venue",open:t,onClose:n,children:Object(a.jsx)(Or,{onClose:n})})},fr=r.a.memo(vr),xr=n(264),gr=n.n(xr),yr=Object(E.a)((function(){return{link:{display:"flex",alignItems:"center",textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none",color:"inherit"}}}})),Cr=function(e){var t=e.venue,n=yr();return Object(a.jsx)(g.a,{button:!0,component:"li",children:Object(a.jsxs)(u.b,{className:n.link,to:"/venues/".concat(t.id),children:[Object(a.jsx)(nr.a,{children:Object(a.jsx)(P.a,{children:Object(a.jsx)(gr.a,{})})}),Object(a.jsx)(C.a,{primary:t.name,secondary:"".concat(t.location.name," ").concat(t.location.description)})]})})},wr=r.a.memo(Cr),kr=function(e){var t=e.venues;return Object(a.jsx)(x.a,{children:t.map((function(e){return Object(a.jsx)(wr,{venue:e},e.id)}))})},Sr=r.a.memo(kr),Nr=function(e){var t=e.venues,n=void 0===t?[]:t;return Object(a.jsx)(a.Fragment,{children:n.map((function(e){return Object(a.jsx)(ea.a,{position:oa(e.location.geo.coordinates),icon:ca,children:Object(a.jsx)(oc.a,{children:Object(a.jsx)(u.b,{to:"/venues/".concat(e.id),children:e.name})})},e.id)}))})},Ir=r.a.memo(Nr),Tr=Object(E.a)((function(e){return{filtersPaper:{padding:e.spacing(2)},venuesPaper:{minHeight:"100%"}}})),Pr=function(){var e,t=Object(c.useState)(null),n=Object(w.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(5e3),s=Object(w.a)(o,2),l=s[0],u=s[1],d=_e(r,l).venues,b=ke(),p=Object(c.useState)(!1),h=Object(w.a)(p,2),m=h[0],O=h[1];Object(c.useEffect)((function(){b.location&&!r&&i(b.location)}),[b,r]);var v=Tr();return Object(a.jsx)(Ht,{title:"Venues",titleActions:[{key:"newVenue",label:"New venue",icon:Object(a.jsx)(Hn.a,{}),onClick:function(){return O(!0)}}],children:Object(a.jsxs)(j.a,{container:!0,spacing:3,children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Gt.a,{className:v.filtersPaper,children:Object(a.jsx)(j.a,{container:!0,direction:"column",spacing:2,children:Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(ka,{location:r,onChange:i,disabled:b.isLoading,around:null===(e=b.location)||void 0===e?void 0:e.geo.coordinates,circleRadius:l,onRadiusChange:function(e,t){return u(t)},markers:Object(a.jsx)(Ir,{venues:d})})})})})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:d?Object(a.jsx)(Gt.a,{className:v.venuesPaper,children:d&&Object(a.jsx)(Sr,{venues:d})}):Object(a.jsx)(A.a,{width:"100%",height:"100%",variant:"rect"})}),Object(a.jsx)(fr,{open:m,onClose:function(){return O(!1)}})]})})},Ar=r.a.memo(Pr),Er=n(482),Lr=n(483),Br=Object(E.a)((function(){return{card:{width:"100%"},address:{flex:1}}})),Rr=function(e){var t=e.venue,n=Br();return Object(a.jsxs)(Ic.a,{className:n.card,children:[Object(a.jsx)(Er.a,{component:Ac.a,href:Wc(t),rel:"nofollow noopener",target:"_blank",color:"inherit",underline:"none",disabled:!t,children:Object(a.jsx)(Lr.a,{children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{color:"textSecondary",children:Object(a.jsx)(gt.a,{})})}),Object(a.jsx)(j.a,{item:!0,className:n.address,children:t?Object(a.jsx)(f.a,{color:"textSecondary",children:t.location.description||t.location.name}):Object(a.jsx)(A.a,{variant:"text"})})]})})}),Object(a.jsx)(Pc.a,{children:Object(a.jsx)(ua,{location:(null===t||void 0===t?void 0:t.location)||null})})]})},Dr=r.a.memo(Rr),Fr=Object(E.a)((function(e){return{eventsPaper:{minHeight:"100%"},titleContainer:{paddingTop:e.spacing(2),paddingBottom:0,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}})),qr=function(e){var t=e.events,n=Fr();return Object(a.jsx)(Gt.a,{className:n.eventsPaper,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{className:n.titleContainer,variant:"body1",color:"textSecondary",children:"Upcoming events"})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(Sn,{events:t})})]})})},Wr=r.a.memo(qr),Hr=function(){var e=Object(c.useState)(new Date),t=Object(w.a)(e,1)[0],n=Object(d.i)().venueId,r=Ke(n).venue,i=nt({venue:n,after:t}).events,o=et(r);return Object(a.jsx)(Ht,{title:null===r||void 0===r?void 0:r.name,titleActions:[{key:"share",icon:Object(a.jsx)(Nc.a,{}),disabled:!r,onClick:o}],children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Dr,{venue:r})}),Object(a.jsx)(j.a,{item:!0,xs:12,md:6,children:i?Object(a.jsx)(Wr,{events:i}):Object(a.jsx)(A.a,{width:"100%",height:"100%",variant:"rect"})})]})})},Vr=r.a.memo(Hr),Ur=n(170),zr=n.n(Ur),Mr=n(266),Jr=n.n(Mr),Qr=n(265),Gr=n.n(Qr),_r=n(484),Kr=Object(E.a)((function(e){return{visuallyHidden:{display:"none"}}})),Yr=function(){var e=Kr(),t=De().user,n=Ve(),r=n.mutate,i=n.isLoading,o=Object(c.useRef)(null);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_r.a,{title:"Change avatar","aria-label":"change avatar",placement:"right",children:Object(a.jsx)(Rt.a,{onClick:function(){var e=null===o||void 0===o?void 0:o.current;e&&e.click()},disabled:i,children:Object(a.jsx)(D,{firstName:t.firstName,lastName:t.lastName,avatar:t.avatar,size:"large",variant:"circular",loading:i})})}),Object(a.jsx)("input",{ref:o,className:e.visuallyHidden,type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;r(t[0])}})]})},Zr=r.a.memo(Yr),$r=Object(E.a)((function(){return{centeredContainer:{display:"flex",justifyContent:"center"}}})),Xr=function(){var e=$r(),t=De().user,n=Fe(),c=[{key:"name",Icon:zr.a,text:"".concat(null===t||void 0===t?void 0:t.firstName," ").concat(null===t||void 0===t?void 0:t.lastName)},{key:"email",Icon:Gr.a,text:t.email}];return Object(a.jsxs)(j.a,{container:!0,direction:"column",spacing:4,justify:"center",alignContent:"center",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)("div",{className:e.centeredContainer,children:Object(a.jsx)(Zr,{})})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(j.a,{container:!0,direction:"column",spacing:2,justify:"center",alignContent:"center",children:c.map((function(e){return Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(e.Icon,{color:"primary"})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{children:e.text})})]})},e.key)}))})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)("div",{className:e.centeredContainer,children:Object(a.jsx)(k.a,{color:"primary",variant:"text",onClick:n,children:"Log out"})})})]})},ei=r.a.memo(Xr),ti=function(){return Object(a.jsx)("div",{children:"NotificationSettings"})},ni=function(){var e=Object(d.g)(),t=Object(d.j)(),n=Object(d.h)(),c=[{value:"profile",label:"Profile",Icon:zr.a,Component:ei,linkTo:"".concat(t.url,"/profile")},{value:"notifications",label:"Notifications",Icon:Jr.a,Component:ti,linkTo:"".concat(t.url,"/notifications"),disabled:!0}],r=c.find((function(e){return e.value===function(e){var t=e.split("/");return t[t.length-1]}(n.pathname)}));return t.url===n.pathname?Object(a.jsx)(d.a,{to:"".concat(t.url,"/profile")}):Object(a.jsx)(Ht,{title:"Settings",children:Object(a.jsx)(En,{value:r.value,onChange:function(n){n!==r.value&&e.push("".concat(t.url,"/").concat(n))},tabs:c})})},ai=r.a.memo(ni),ci=function(){return Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/",exact:!0,render:function(){return Object(a.jsx)(d.a,{to:"/home"})}}),Object(a.jsx)(d.b,{path:"/home",component:qn}),Object(a.jsx)(d.b,{path:"/events",exact:!0,component:kc}),Object(a.jsx)(d.b,{path:"/events/:eventId",component:hr}),Object(a.jsx)(d.b,{path:"/venues",exact:!0,component:Ar}),Object(a.jsx)(d.b,{path:"/venues/:venueId",component:Vr}),Object(a.jsx)(d.b,{path:"/settings",component:ai})]})},ri=r.a.memo(ci),ii=n(3),oi=n(268),si=n.n(oi),li=n(267),ui=n.n(li),di=function(e){return Object(a.jsx)(Tn.a,Object(G.a)(Object(G.a)({},e),{},{children:Object(a.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})}))},ji=Object(E.a)((function(){return{baseRoot:{color:"white",justifyContent:"flex-start"},facebookRoot:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#2e487c"}},googleRoot:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#a2271d"}},twitterRoot:{backgroundColor:"#1DA1F2","&:hover":{backgroundColor:"#0a73b3"}}}})),bi=r.a.memo((function(e){var t=e.onClick,n=ji();return Object(a.jsx)(k.a,{classes:{root:Object(ii.a)(n.baseRoot,n.facebookRoot)},startIcon:Object(a.jsx)(ui.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Facebook"})})),pi=r.a.memo((function(e){var t=e.onClick,n=ji();return Object(a.jsx)(k.a,{classes:{root:Object(ii.a)(n.baseRoot,n.googleRoot)},startIcon:Object(a.jsx)(di,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Google"})})),hi=r.a.memo((function(e){var t=e.onClick,n=ji();return Object(a.jsx)(k.a,{classes:{root:Object(ii.a)(n.baseRoot,n.twitterRoot)},startIcon:Object(a.jsx)(si.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Twitter"})})),mi=Object(E.a)((function(){return{root:{minHeight:"100vh"},buttonsContainer:{maxWidth:"300px"},buttonContainer:{width:"100%"}}})),Oi=[{authProvider:"google",Button:pi},{authProvider:"facebook",Button:bi},{authProvider:"twitter",Button:hi}];function vi(){var e=qe(),t=Je().redirect,n=mi();return Object(a.jsx)(j.a,{className:n.root,container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",children:Object(a.jsx)(j.a,{item:!0,children:Object(a.jsxs)(j.a,{container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",spacing:8,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(f.a,{variant:"h2",children:"Team Findr"})}),Object(a.jsx)(j.a,{className:n.buttonsContainer,container:!0,direction:"column",alignItems:"center",spacing:1,children:Oi.map((function(c){return Object(a.jsx)(j.a,{item:!0,className:n.buttonContainer,children:Object(a.jsx)(c.Button,{onClick:function(){return e(c.authProvider,t)}})},c.authProvider)}))})]})})})}var fi=r.a.memo(vi),xi=Object(E.a)((function(e){return{root:{minHeight:"100vh"}}})),gi=function(){var e=xi();return Object(a.jsx)(j.a,{className:e.root,container:!0,alignContent:"center",justify:"center",children:Object(a.jsx)(_a.a,{})})},yi=r.a.memo(gi),Ci=function(e){return function(t){return De().user?Object(a.jsx)(e,Object(G.a)({},t)):Object(a.jsx)(d.a,{to:"/login?redirect=".concat(encodeURIComponent(window.location.href))})}},wi=function(e){return function(t){return De().user?Object(a.jsx)(d.a,{to:"/"}):Object(a.jsx)(e,Object(G.a)({},t))}};function ki(){return jt(),De().isLoading?Object(a.jsx)(yi,{}):Object(a.jsx)(u.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/login",component:wi(fi)}),Object(a.jsx)(d.b,{path:"/",component:Ci(ri)})]})})}var Si=r.a.memo(ki),Ni=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ii(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ti=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,508)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Pi=n(490),Ai=n(43),Ei=n(271),Li=n(485),Bi=n(487),Ri=n(486),Di=Object(Li.a)({palette:{primary:Ri.a},typography:{button:{textTransform:"none"}}}),Fi=function(e){var t=e.children;return Object(a.jsx)(Bi.a,{theme:Di,children:t})},qi=n(269),Wi={socket:null,status:"initial",userId:null},Hi=Object(c.createContext)(Wi),Vi=function(e){var t=e.children,n=e.socketContext,r=De().user,i=null===r||void 0===r?void 0:r.id,o=Object(c.useState)(Wi),s=Object(w.a)(o,2),l=s[0],u=s[1],d=ut();return Object(c.useEffect)((function(){if(!n&&i&&i!==l.userId){l.socket&&l.socket.disconnect();var e=Object(qi.io)(re,{withCredentials:!0});u({socket:e,status:"connecting",userId:i}),e.on("connect",(function(){u({socket:e,status:"connected",userId:i})})),e.on("disconnect",(function(){u({socket:e,status:"disconnected",userId:i})})),d(e)}}),[i,n,l,u,d]),Object(a.jsx)(Hi.Provider,{value:n||l,children:t})},Ui=new Pi.a,zi=function(e){var t=e.children;return Object(a.jsx)(We.a,{client:Ui,children:Object(a.jsx)(Fi,{children:Object(a.jsx)(ye,{children:Object(a.jsx)(Ye.a,{children:Object(a.jsx)(Ai.a,{utils:Ei.a,children:Object(a.jsx)(Vi,{children:t})})})})})})},Mi=r.a.memo(zi);o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsxs)(Mi,{children:[Object(a.jsx)(s.a,{}),Object(a.jsx)(Si,{}),Object(a.jsx)(l.ReactQueryDevtools,{initialIsOpen:!1})]})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ni?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ii(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ii(t,e)}))}}(),Ti()}},[[397,1,2]]]);
//# sourceMappingURL=main.18114bf3.chunk.js.map