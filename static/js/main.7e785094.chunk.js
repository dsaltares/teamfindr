(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{175:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(2),c=(n(167),n(0)),r=n.n(c),o=n(14),i=n.n(o),s=n(287),u=n(291),l=n(91),j=n(128),d=n(101),b=(n(175),n(42)),p=n(13),h=n(26),m=n(271),f=n(129),O=n.n(f),v=n(130),x=n.n(v),g=n(89),y=n.n(g),C=n(131),k=n.n(C),w=[{value:"home",label:"Home",icon:O.a},{value:"events",label:"Events",icon:x.a},{value:"venues",label:"Venues",icon:y.a},{value:"settings",label:"Settings",icon:k.a}],N=n(259),I=n(260),L=n(258),T=Object(L.a)((function(){return{navigation:{position:"fixed",bottom:0,width:"100%"}}})),S=function(e){var t=e.selectedValue,n=e.items,c=T(),r=Object(p.g)();return Object(a.jsx)(N.a,{className:c.navigation,value:t,onChange:function(e,t){r.push("/".concat(t))},children:n.map((function(e){return Object(a.jsx)(I.a,{value:e.value,label:e.label,icon:Object(a.jsx)(e.icon,{})},e.value)}))})},A=r.a.memo(S),R=n(268),P=n(269),B=n(270),F=n(79),E=n(264),V=n(204),H=n(266),D=n(267),W=n(18),q=n(263),z=n(146),Q=n(265),U=n(133),M=n.n(U),_=n(299),G=n(261),J=Object(L.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},medium:{width:e.spacing(5),height:e.spacing(5)},large:{width:e.spacing(16),height:e.spacing(16)}}})),Z=function(e){var t=e.firstName,n=e.lastName,c=e.avatar,r=e.size,o=void 0===r?"medium":r,i=e.variant,s=e.loading,u=void 0!==s&&s,l=J(),j="".concat(t," ").concat(n);return u?Object(a.jsx)(G.a,{className:l[o],variant:"circle",animation:"wave"}):Object(a.jsx)(_.a,{variant:i,className:l[o],alt:j,src:c})},$=r.a.memo(Z),K=Object(L.a)((function(e){return{fullHeight:{height:"100%"},itemIcon:{minWidth:0,paddingRight:e.spacing(1)}}})),X=n(293),Y=n(15),ee=n.n(Y),te=n(25),ne=n(39),ae=n.n(ne),ce={uploadImage:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/teamfindr/image/upload","teamfindr",(n=new FormData).append("file",t),n.append("upload_preset","teamfindr"),e.next=7,ae.a.post("https://api.cloudinary.com/v1_1/teamfindr/image/upload",n);case 7:return a=e.sent,c=a.data.secure_url,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=n(19),oe="https://photon.komoot.io",ie=function(e){var t=e.geometry.coordinates,n=e.properties,a=n.name,c=n.country,r=n.city,o=n.postcode,i=n.housenumber,s=n.street,u={geo:{type:"Point",coordinates:t},country:c,city:r,postcode:o,number:i,street:s,type:n.type},l="",j=[];switch(e.properties.type){case"house":a?j=["number","street","postcode","city","country"]:(l="".concat(i?"".concat(i," "):"").concat(s),j=["postcode","city","country"]);break;case"street":j=["postcode","city","country"];break;case"district":j=["city","country"];break;case"city":case"county":j=["country"]}return Object(re.a)(Object(re.a)({},u),{},{name:a||l,description:j.map((function(e){return u[e]})).filter((function(e){return!!e})).join(", ")})},se=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,c,r,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(W.a)(t,2),a=n[0],c=n[1],e.next=3,ae.a.get("".concat(oe,"/reverse?lat=").concat(c,"&lon=").concat(a));case 3:return r=e.sent,o=r.data,e.abrupt("return",Object(re.a)(Object(re.a)({},ie(o.features[0])),{},{geo:{type:"Point",coordinates:t}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e){return function(t){return!e||t.type===e}},le={getLocationFromGeolocation:function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=navigator.geolocation;n||t({code:GeolocationPositionError.POSITION_UNAVAILABLE,message:"Geolocation not available"}),n.getCurrentPosition((function(t){return e([t.coords.longitude,t.coords.latitude])}),t)}));case 2:return t=e.sent,e.abrupt("return",se(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLocationFromIp:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,a,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("https://geolocation-db.com/json/85249190-4601-11eb-9067-21b51bc8dee3");case 2:return t=e.sent,n=t.data,a=n.latitude,c=n.longitude,e.abrupt("return",se([c,a]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLocationSuggestions:function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var c,r,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return c=n?"&lon=".concat(n[0],"&lat=").concat(n[1]):"",r="".concat(oe,"/api/?q=").concat(encodeURIComponent(t)).concat(c),e.prev=4,e.next=7,ae.a.get(r);case 7:return o=e.sent,i=o.data.features,e.abrupt("return",i.map(ie).filter(ue(a)));case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),getLocationFromCoordinates:se},je="http://localhost:5000",de={verify:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.get("".concat(je,"/auth/verify"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return t=e.sent,n=t.data.user,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)){e.next=12;break}return e.abrupt("return",null);case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),openIdpAuthPage:function(e){window.open("".concat(je,"/auth/").concat(e),"_self")},logout:function(){window.open("".concat(je,"/auth/logout"),"_self")},patchUser:function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.patch("".concat(je,"/users/").concat(t),{user:n},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return a=e.sent,c=a.data.user,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},be=n(102),pe=function(e){return Object.keys(e).reduce((function(t,n){var a=e[n];return n&&a?[].concat(Object(be.a)(t),["".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(a))]):t}),[]).join("&")},he={images:ce,location:le,user:de,venues:{createVenue:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,c,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.location,e.next=3,ae.a.post("".concat(je,"/venues"),{venue:{name:n,location:a}},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return c=e.sent,r=c.data.venue,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenues:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,c,r,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,a=t.radius,c=(null===n||void 0===n?void 0:n.geo.coordinates)||[],r=pe({lon:c[0],lat:c[1],radius:a}),e.next=5,ae.a.get("".concat(je,"/venues?").concat(r),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 5:return o=e.sent,i=o.data.venues,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenue:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat(je,"/venues/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.venue,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},me=Object(c.createContext)(he),fe=function(){return Object(c.useContext)(me)},Oe=function(e){var t=e.children,n=e.services;return Object(a.jsx)(me.Provider,{value:n||he,children:t})},ve=432e5,xe=function(){var e=function(){var e=fe(),t=Object(X.a)("geoLocation",(function(){return e.location.getLocationFromGeolocation()}),{staleTime:ve,refetchInterval:ve});return{isLoading:t.isLoading,error:t.error,location:t.data||null}}(),t=function(){var e=fe(),t=Object(X.a)("ipLocation",(function(){return e.location.getLocationFromIp()}),{staleTime:ve,refetchInterval:ve});return{isLoading:t.isLoading,error:t.error,location:t.data||null}}(),n=!!t.location||!!t.error;return!!e.error&&(n&&!!t)?t:e},ge=n(92),ye=function(e){var t=e.query,n=e.around,a=e.restrictToType,r=fe(),o=Object(ge.a)(t,200),i=Object(c.useState)([]),s=Object(W.a)(i,2),u=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(W.a)(j,2),b=d[0],p=d[1];return Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,r.location.getLocationSuggestions(o,n,a);case 3:(t=e.sent)&&l(t),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,l,p,r,n,a]),{suggestions:u,loading:b}},Ce=n(262),ke={leading:!0,trailing:!0},we=function(e){var t=Object(ge.a)(e,200,ke),n=Object(c.useState)(null),a=Object(W.a)(n,2),r=a[0],o=a[1],i=fe();return Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.location.getLocationFromCoordinates(t);case 5:n=e.sent,o(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t,i,o]),r},Ne=function(){var e=Object(c.useState)(null),t=Object(W.a)(e,2),n=t[0],a=t[1],r=we(n);return Object(Ce.b)({click:function(e){a([e.latlng.lng,e.latlng.lat])}}),r},Ie=432e5,Le=function(){var e=fe(),t=Object(X.a)("user",(function(){return e.user.verify()}),{staleTime:Ie,cacheTime:Ie});return{isLoading:t.isLoading,error:t.error,user:t.data}},Te=function(){return fe().user.logout},Se=function(){return fe().user.openIdpAuthPage},Ae=n(295),Re=function(){var e=Object(l.b)(),t=fe(),n=Le().user,a=function(){var e=Object(te.a)(ee.a.mark((function e(a){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.images.uploadImage(a);case 2:return c=e.sent,e.abrupt("return",t.user.patchUser(n.id,{avatar:c}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ae.a)(a,{onSuccess:function(t){e.setQueryData("user",t)}})},Pe=function(){var e=fe(),t=Object(l.b)();Object(c.useEffect)((function(){t.fetchQuery("user",e.user.verify),t.fetchQuery("ipLocation",e.location.getLocationFromIp),t.fetchQuery("geoLocation",e.location.getLocationFromGeolocation)}),[t,e])},Be=function(){var e=Object(l.b)(),t=fe();return Object(Ae.a)(t.venues.createVenue,{onSuccess:function(t){e.invalidateQueries("venues"),e.setQueryData("venues/".concat(t.id),t)}})},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(c.useState)(e),a=Object(W.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},Ee=function(e,t){var n=Object(l.b)(),a=fe(),c=Fe(t,200),r=Object(X.a)(["venues",[null===e||void 0===e?void 0:e.geo.coordinates,c]],(function(){return a.venues.getVenues({location:e,radius:c})}),{staleTime:432e5,enabled:!!e,onSuccess:function(e){e.forEach((function(e){n.setQueryData("venues/".concat(e.id),e)}))}});return{isLoading:r.isLoading,error:r.error,venues:r.data}},Ve=function(e){var t=fe(),n=Object(X.a)("venues/".concat(e),(function(){return t.venues.getVenue(e)}),{staleTime:432e5});return{isLoading:n.isLoading,error:n.error,venue:n.data}},He=function(){var e=Le().user,t=Te(),n=r.a.useState(null),c=Object(W.a)(n,2),o=c[0],i=c[1],s=K(),u=[{key:"logout",label:"Log out",onClick:function(){t()},Icon:M.a}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q.a,{className:s.fullHeight,onClick:function(e){i(e.currentTarget)},children:Object(a.jsx)($,{avatar:e.avatar})}),Object(a.jsx)(z.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){i(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:u.map((function(e){return Object(a.jsxs)(Q.a,{onClick:e.onClick,children:[Object(a.jsx)(H.a,{className:s.itemIcon,children:Object(a.jsx)(e.Icon,{})}),Object(a.jsx)(D.a,{children:e.label})]},e.key)}))})]})},De=r.a.memo(He),We=Object(L.a)((function(e){return{topBar:{minHeight:"auto",height:64},fullHeight:{height:"100%"},titleContainer:{paddingRight:e.spacing(6)},list:{padding:0,display:"flex",flexDirection:"row",height:"100%"},item:{height:"100%"},icon:{minWidth:0,paddingRight:e.spacing(1)}}})),qe=function(e){var t=e.selectedValue,n=e.items,c=We();return Object(a.jsx)(R.a,{className:c.topBar,position:"static",children:Object(a.jsx)(P.a,{children:Object(a.jsxs)(B.a,{container:!0,className:c.fullHeight,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(B.a,{item:!0,className:c.fullHeight,children:Object(a.jsxs)(B.a,{container:!0,className:c.fullHeight,alignItems:"center",children:[Object(a.jsx)(B.a,{item:!0,className:c.titleContainer,children:Object(a.jsx)(F.a,{variant:"h5",children:"TeamFindr"})}),Object(a.jsx)(B.a,{item:!0,className:c.fullHeight,children:Object(a.jsx)(E.a,{className:c.list,component:"nav",children:n.map((function(e){return Object(a.jsxs)(V.a,{className:c.item,selected:e.value===t,button:!0,component:b.b,to:"/".concat(e.value),children:[Object(a.jsx)(H.a,{className:c.icon,children:Object(a.jsx)(e.icon,{})}),Object(a.jsx)(D.a,{children:e.label})]},e.value)}))})})]})}),Object(a.jsx)(B.a,{item:!0,className:c.fullHeight,children:Object(a.jsx)(De,{})})]})})})},ze=r.a.memo(qe),Qe=function(){var e=Object(h.a)(),t=Object(m.a)(e.breakpoints.up("md")),n=Object(p.h)().pathname.split("/")[1],c=t?ze:A;return Object(a.jsx)(c,{selectedValue:n,items:w})},Ue=r.a.memo(Qe),Me=function(){return Object(a.jsx)("div",{children:"Home"})},_e=n(298),Ge=n(275),Je=n(134),Ze=n.n(Je),$e=n(272),Ke=n(296),Xe=n(273),Ye=n(297),et=n(36),tt=n.n(et),nt=tt.a.icon({iconUrl:"/icons/marker.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-20]}),at=tt.a.icon({iconUrl:"/icons/pin.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-15]}),ct=function(e){return[e[1],e[0]]},rt=function(e){var t=e.onChange,n=e.location,a=Object(Ce.a)(),r=Ne(),o=Object(c.useState)(null),i=Object(W.a)(o,2),s=i[0],u=i[1],l=n.geo.coordinates;return Object(c.useEffect)((function(){t&&r&&r!==s&&(t(r),u(r))}),[r,t,s,u]),Object(c.useEffect)((function(){a.setView(ct(l),a.getZoom())}),[a,l]),null},ot=function(e){var t=e.location,n=e.onChange,c=e.circleRadius,r=e.markers;if(!t)return Object(a.jsx)(G.a,{width:"100%",height:310,variant:"rect"});var o=t.geo.coordinates,i=ct(o);return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)($e.a,{zoom:12,scrollWheelZoom:!0,children:[Object(a.jsx)(rt,{location:t,onChange:n}),Object(a.jsx)(Ke.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(a.jsx)(Xe.a,{position:i,icon:at}),c&&Object(a.jsx)(Ye.a,{center:i,pathOptions:{color:"green",fillColor:"green"},radius:c}),!!r&&r]})})},it=r.a.memo(ot),st=n(5),ut=n(274),lt=Object(st.a)({root:{minHeight:0,"&$expanded":{minHeight:0}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(ut.a),jt=Object(L.a)((function(){return{accordionDetails:{padding:0}}})),dt=function(){var e=xe(),t=jt();return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)(_e.a,{defaultExpanded:!0,children:[Object(a.jsx)(lt,{expandIcon:Object(a.jsx)(Ze.a,{}),children:Object(a.jsx)(F.a,{children:"Map"})}),Object(a.jsx)(Ge.a,{className:t.accordionDetails,children:Object(a.jsx)(it,{location:e.location})})]})})},bt=r.a.memo(dt),pt=n(203),ht=n(140),mt=n.n(ht),ft=n(288),Ot=n(290),vt=function(e,t){return e?t.find((n=e,function(e){var t=n.geo.coordinates,a=e.geo.coordinates;return t[0]===a[0]&&t[1]===a[1]}))?t:[e].concat(Object(be.a)(t)):t;var n},xt=function(e){return"Enter a ".concat(e||"location")},gt=function(e){var t=e.value,n=e.around,r=e.onChange,o=e.disabled,i=void 0!==o&&o,s=e.required,u=void 0!==s&&s,l=e.restrictToType,j=e.name,d=e.error,b=void 0!==d&&d,p=e.helperText,h=e.onBlur,m=Object(c.useState)(""),f=Object(W.a)(m,2),O=f[0],v=f[1],x=ye({query:O,around:n,restrictToType:l}),g=x.suggestions,C=x.loading;return Object(a.jsx)(Ot.a,{fullWidth:!0,disabled:i,getOptionLabel:function(e){return function(e,t){return t&&e[t]||e.name}(e,l)},options:vt(t,g),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,disableClearable:!0,value:t,loading:C,noOptionsText:"No results",onChange:function(e,t){r(t)},onInputChange:function(e,t){v(t)},renderInput:function(e){return Object(a.jsx)(ft.a,Object(re.a)(Object(re.a)({},e),{},{name:j,label:xt(l),variant:"outlined",fullWidth:!0,required:u,error:b,helperText:p,onBlur:h}))},renderOption:function(e){return Object(a.jsxs)(B.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(y.a,{})}),Object(a.jsxs)(B.a,{item:!0,xs:!0,children:[Object(a.jsx)("span",{style:{fontWeight:700},children:e.name}),Object(a.jsx)(F.a,{variant:"body2",color:"textSecondary",children:e.description||""})]})]})}})},yt=r.a.memo(gt),Ct=function(e){var t=e.location,n=e.onChange,r=e.disabled,o=void 0!==r&&r,i=e.name,s=e.error,u=void 0!==s&&s,l=e.helperText,j=e.onBlur,d=e.disableChangePositionViaMap,b=e.restrictToType,p=e.circleRadius,h=e.markers,m=xe().location;return Object(c.useEffect)((function(){!t&&m&&n(m)}),[m,n,t]),Object(a.jsxs)(B.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(yt,{name:i,value:t,onChange:n,disabled:o||d,required:!0,around:null===m||void 0===m?void 0:m.geo.coordinates,error:u,helperText:l,onBlur:j,restrictToType:b})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(it,{location:t,onChange:n,circleRadius:p,markers:h})})]})},kt=r.a.memo(Ct),wt=n(300),Nt=Object(L.a)((function(e){return{root:{width:"100%"},sliderContainer:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)}}}));function It(e){return"".concat(Math.round(e/1e3),"km")}var Lt=[{value:1e3,label:"1km"},{value:5e3,label:"5km"},{value:1e4,label:"10km"},{value:2e4,label:"20km"},{value:3e4,label:"30km"}],Tt=function(e){var t=e.id,n=e.value,r=e.onChange,o=e.name,i=Nt(),s=Object(c.useCallback)((function(e,t){r(e,t)}),[r]);return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(F.a,{id:t,gutterBottom:!0,children:["Radius: ","".concat(It(n))]}),Object(a.jsx)("div",{className:i.sliderContainer,children:Object(a.jsx)(wt.a,{getAriaValueText:It,"aria-labelledby":t,step:1e3,marks:Lt,min:1e3,max:3e4,name:o,value:n,onChange:s})})]})},St=r.a.memo(Tt),At=n(294),Rt=n(276),Pt=n(205),Bt=n(136),Ft=n.n(Bt),Et=Object(L.a)((function(e){return{dialogPaper:{minWidth:500,maxWidth:900},title:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Vt=function(e){var t=e.id,n=e.open,c=e.onClose,r=e.title,o=e.children,i=e.loading,s=void 0!==i&&i,u=Object(h.a)(),l=Object(m.a)(u.breakpoints.down("sm")),j="".concat(t,"-title"),d=Et();return Object(a.jsxs)(At.a,{classes:{paper:l?void 0:d.dialogPaper},fullScreen:l,disableBackdropClick:s,disableEscapeKeyDown:s,onClose:c,"aria-labelledby":j,open:n,scroll:"paper",children:[Object(a.jsxs)(Rt.a,{id:j,className:d.title,disableTypography:!0,children:[Object(a.jsx)(F.a,{variant:"h6",children:r}),c?Object(a.jsx)(Pt.a,{"aria-label":"close",className:d.closeButton,onClick:c,children:Object(a.jsx)(Ft.a,{})}):null]}),n&&o]})},Ht=r.a.memo(Vt),Dt=n(277),Wt=n(278),qt=function(e){var t=e.actions,n=e.loading,c=void 0!==n&&n;return Object(a.jsx)(Dt.a,{children:t.map((function(e){return Object(a.jsx)(q.a,{type:e.type,onClick:e.onClick,color:"primary",disabled:e.disabled||c,children:e.loading?Object(a.jsx)(Wt.a,{size:24,color:"primary"}):e.label},e.key)}))})},zt=r.a.memo(qt),Qt=n(279),Ut=function(e){var t=e.children;return Object(a.jsx)(Qt.a,{dividers:!0,children:t})},Mt=r.a.memo(Ut),_t=n(145),Gt={name:"",location:null},Jt=function(e){var t=e.onClose,n=Be(),r=Object(d.b)().enqueueSnackbar;return Object(c.useEffect)((function(){n.isSuccess&&(t(),r("Venue created",{variant:"success"})),n.isError&&r("Failed to create venue",{variant:"error"})}),[r,n.isSuccess,n.isError,t]),Object(a.jsx)(_t.a,{initialValues:Gt,onSubmit:function(e){n.mutate({name:e.name,location:e.location})},validate:function(e){var t={};return e.name||(t.name="Required"),e.location||(t.location="Required"),t},children:function(e){var t=e.values,c=e.errors,r=e.touched,o=e.handleChange,i=e.handleBlur,s=e.handleSubmit,u=e.setFieldValue;return Object(a.jsxs)("form",{onSubmit:s,children:[Object(a.jsx)(Mt,{children:Object(a.jsxs)(B.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(ft.a,{required:!0,label:"Name",variant:"outlined",name:"name",value:t.name,fullWidth:!0,onChange:o,error:r.name&&!!c.name,helperText:r.name&&c.name,onBlur:i})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(kt,{name:"location",location:t.location,error:r.location&&!!c.location,helperText:r.location&&c.location,onBlur:i,onChange:function(e){return u("location",e)}})})]})}),Object(a.jsx)(zt,{actions:[{key:"create",label:"Create",loading:n.isLoading,type:"submit"}]})]})}})},Zt=function(e){var t=e.open,n=e.onClose;return Object(a.jsx)(Ht,{id:"new-venue-dialog",title:"New venue",open:t,onClose:n,children:Object(a.jsx)(Jt,{onClose:n})})},$t=r.a.memo(Zt),Kt=n(280),Xt=n(139),Yt=n.n(Xt),en=Object(L.a)((function(){return{link:{display:"flex",alignItems:"center",textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none",color:"inherit"}}}})),tn=function(e){var t=e.venue,n=en();return Object(a.jsx)(V.a,{button:!0,component:"li",children:Object(a.jsxs)(b.b,{className:n.link,to:"/venues/".concat(t.id),children:[Object(a.jsx)(Kt.a,{children:Object(a.jsx)(_.a,{children:Object(a.jsx)(Yt.a,{})})}),Object(a.jsx)(D.a,{primary:t.name,secondary:"".concat(t.location.name," ").concat(t.location.description)})]})})},nn=r.a.memo(tn),an=function(e){var t=e.venues;return Object(a.jsx)(E.a,{children:t.map((function(e){return Object(a.jsx)(nn,{venue:e},e.id)}))})},cn=r.a.memo(an),rn=n(281),on=function(e){var t=e.venues,n=void 0===t?[]:t;return Object(a.jsx)(a.Fragment,{children:n.map((function(e){return Object(a.jsx)(Xe.a,{position:ct(e.location.geo.coordinates),icon:nt,children:Object(a.jsx)(rn.a,{children:Object(a.jsx)(b.b,{to:"/venues/".concat(e.id),children:e.name})})},e.id)}))})},sn=r.a.memo(on),un=Object(L.a)((function(e){return{filtersPaper:{padding:e.spacing(2)}}})),ln=function(){var e,t=Object(c.useState)(null),n=Object(W.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(5e3),s=Object(W.a)(i,2),u=s[0],l=s[1],j=Ee(r,u).venues,d=xe(),b=Object(c.useState)(!1),p=Object(W.a)(b,2),h=p[0],m=p[1];Object(c.useEffect)((function(){d.location&&!r&&o(d.location)}),[d,r]);var f=un();return Object(a.jsxs)(B.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsxs)(B.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(F.a,{variant:"h4",children:"Venues"})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(q.a,{startIcon:Object(a.jsx)(mt.a,{}),color:"primary",variant:"contained",onClick:function(){return m(!0)},children:"New venue"})})]})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsxs)(B.a,{container:!0,spacing:3,children:[Object(a.jsx)(B.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(pt.a,{className:f.filtersPaper,children:Object(a.jsxs)(B.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(kt,{location:r,onChange:o,disabled:d.isLoading,around:null===(e=d.location)||void 0===e?void 0:e.geo.coordinates,circleRadius:u,markers:Object(a.jsx)(sn,{venues:j})})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(St,{id:"venue-search-radius",value:u,onChange:function(e,t){return l(t)}})})]})})}),Object(a.jsx)(B.a,{item:!0,xs:12,md:6,children:j?Object(a.jsx)(pt.a,{style:{height:"100%"},children:j&&Object(a.jsx)(cn,{venues:j})}):Object(a.jsx)(G.a,{width:"100%",height:"100%",variant:"rect"})})]})}),Object(a.jsx)($t,{open:h,onClose:function(){return m(!1)}})]})},jn=r.a.memo(ln),dn=function(){var e=Object(p.i)().venueId,t=Ve(e),n=t.isLoading,c=t.error,r=t.venue;return Object(a.jsx)("div",{children:JSON.stringify({isLoading:n,error:c,venue:r},null,2)})},bn=r.a.memo(dn),pn=n(289),hn=n(283),mn=n(149),fn=n(99),On=n.n(fn),vn=n(142),xn=n.n(vn),gn=n(141),yn=n.n(gn),Cn=n(282),kn=Object(L.a)((function(e){return{visuallyHidden:{display:"none"}}})),wn=function(){var e=kn(),t=Le().user,n=Re(),r=n.mutate,o=n.isLoading,i=Object(c.useRef)(null);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Cn.a,{title:"Change avatar","aria-label":"change avatar",placement:"right",children:Object(a.jsx)(Pt.a,{onClick:function(){var e=null===i||void 0===i?void 0:i.current;e&&e.click()},disabled:o,children:Object(a.jsx)($,{firstName:t.firstName,lastName:t.lastName,avatar:t.avatar,size:"large",variant:"circular",loading:o})})}),Object(a.jsx)("input",{ref:i,className:e.visuallyHidden,type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;r(t[0])}})]})},Nn=r.a.memo(wn),In=Object(L.a)((function(){return{avatarContainer:{display:"flex",justifyContent:"center"}}})),Ln=function(){var e=In(),t=Le().user,n=[{key:"name",Icon:On.a,text:"".concat(null===t||void 0===t?void 0:t.firstName," ").concat(null===t||void 0===t?void 0:t.lastName)},{key:"email",Icon:yn.a,text:t.email}];return Object(a.jsxs)(B.a,{container:!0,direction:"column",spacing:4,justify:"center",alignContent:"center",children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)("div",{className:e.avatarContainer,children:Object(a.jsx)(Nn,{})})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(B.a,{container:!0,direction:"column",spacing:2,justify:"center",alignContent:"center",children:n.map((function(e){return Object(a.jsx)(B.a,{item:!0,children:Object(a.jsxs)(B.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(e.Icon,{color:"primary"})}),Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(F.a,{children:e.text})})]})},e.key)}))})})]})},Tn=r.a.memo(Ln),Sn=function(){return Object(a.jsx)("div",{children:"NotificationSettings"})},An=Object(L.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"100%"},tabPanel:{padding:e.spacing(3)},tabLabelContainer:{display:"flex",alignItems:"center"},tabIcon:{paddingRight:e.spacing(1)}}})),Rn=[{value:"profile",label:"Profile",Icon:On.a,Component:Tn},{value:"notifications",label:"Notifications",Icon:xn.a,Component:Sn}],Pn=function(){var e,t=Object(p.g)(),n=Object(p.j)(),c=Object(p.h)(),r=An(),o=Rn.find((function(e){return e.value===function(e){var t=e.split("/");return t[t.length-1]}(c.pathname)}));return n.url===c.pathname?Object(a.jsx)(p.a,{to:"".concat(n.url,"/profile")}):Object(a.jsxs)("div",{className:r.container,children:[Object(a.jsx)(pn.a,{value:o.value,onChange:function(e,a){!function(e){e!==o.value&&t.push("".concat(n.url,"/").concat(e))}(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:Rn.map((function(e){return Object(a.jsx)(hn.a,Object(re.a)({value:e.value,component:b.b,to:"".concat(n.url,"/").concat(e.value),label:Object(a.jsxs)("div",{className:r.tabLabelContainer,children:[Object(a.jsx)(mn.a,{className:r.tabIcon,children:Object(a.jsx)(e.Icon,{})}),e.label]}),disabled:e.disabled},(t=e.value,{id:"settings-tab-".concat(t),"aria-controls":"settings-tabpanel-".concat(t)})),e.value);var t}))}),Object(a.jsx)("div",Object(re.a)(Object(re.a)({className:r.tabPanel},(e=o.value,{role:"tabpanel",id:"settings-tabpanel-".concat(e),"aria-labelledby":"settings-tab-".concat(e)})),{},{children:Object(a.jsx)(o.Component,{})}))]})},Bn=r.a.memo(Pn),Fn=Object(L.a)((function(e){return{root:{display:"flex",flex:1,justifyContent:"center"},content:{display:"flex",flex:1,justifyContent:"center",maxWidth:"900px"}}})),En=function(){var e=Fn();return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ue,{}),Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("main",{className:e.content,children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/",exact:!0,render:function(){return Object(a.jsx)(p.a,{to:"/home"})}}),Object(a.jsx)(p.b,{path:"/home",component:Me}),Object(a.jsx)(p.b,{path:"/events",component:bt}),Object(a.jsx)(p.b,{path:"/venues",exact:!0,component:jn}),Object(a.jsx)(p.b,{path:"/venues/:venueId",component:bn}),Object(a.jsx)(p.b,{path:"/settings",component:Bn})]})})})]})},Vn=r.a.memo(En),Hn=n(3),Dn=n(144),Wn=n.n(Dn),qn=n(143),zn=n.n(qn),Qn=function(e){return Object(a.jsx)(mn.a,Object(re.a)(Object(re.a)({},e),{},{children:Object(a.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})}))},Un=Object(L.a)((function(){return{baseRoot:{color:"white",justifyContent:"flex-start"},facebookRoot:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#2e487c"}},googleRoot:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#a2271d"}},twitterRoot:{backgroundColor:"#1DA1F2","&:hover":{backgroundColor:"#0a73b3"}}}})),Mn=r.a.memo((function(e){var t=e.onClick,n=Un();return Object(a.jsx)(q.a,{classes:{root:Object(Hn.a)(n.baseRoot,n.facebookRoot)},startIcon:Object(a.jsx)(zn.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Facebook"})})),_n=r.a.memo((function(e){var t=e.onClick,n=Un();return Object(a.jsx)(q.a,{classes:{root:Object(Hn.a)(n.baseRoot,n.googleRoot)},startIcon:Object(a.jsx)(Qn,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Google"})})),Gn=r.a.memo((function(e){var t=e.onClick,n=Un();return Object(a.jsx)(q.a,{classes:{root:Object(Hn.a)(n.baseRoot,n.twitterRoot)},startIcon:Object(a.jsx)(Wn.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Twitter"})})),Jn=Object(L.a)((function(){return{root:{minHeight:"100vh"},buttonsContainer:{maxWidth:"300px"},buttonContainer:{width:"100%"}}})),Zn=[{authProvider:"google",Button:_n},{authProvider:"facebook",Button:Mn},{authProvider:"twitter",Button:Gn}];function $n(){var e=Se(),t=Jn();return Object(a.jsx)(B.a,{className:t.root,container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",children:Object(a.jsx)(B.a,{item:!0,children:Object(a.jsxs)(B.a,{container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",spacing:8,children:[Object(a.jsx)(B.a,{item:!0,children:Object(a.jsx)(F.a,{variant:"h2",children:"Team Findr"})}),Object(a.jsx)(B.a,{className:t.buttonsContainer,container:!0,direction:"column",alignItems:"center",spacing:1,children:Zn.map((function(n){return Object(a.jsx)(B.a,{item:!0,className:t.buttonContainer,children:Object(a.jsx)(n.Button,{onClick:function(){return e(n.authProvider)}})},n.authProvider)}))})]})})})}var Kn=r.a.memo($n),Xn=Object(L.a)((function(e){return{root:{minHeight:"100vh"}}})),Yn=function(){var e=Xn();return Object(a.jsx)(B.a,{className:e.root,container:!0,alignContent:"center",justify:"center",children:Object(a.jsx)(Wt.a,{})})},ea=r.a.memo(Yn),ta=function(e){return function(t){return Le().user?Object(a.jsx)(e,Object(re.a)({},t)):Object(a.jsx)(p.a,{to:"/login"})}},na=function(e){return function(t){return Le().user?Object(a.jsx)(p.a,{to:"/"}):Object(a.jsx)(e,Object(re.a)({},t))}};function aa(){return Pe(),Le().isLoading?Object(a.jsx)(ea,{}):Object(a.jsx)(b.a,{children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/login",component:na(Kn)}),Object(a.jsx)(p.b,{path:"/",component:ta(Vn)})]})})}var ca=r.a.memo(aa),ra=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},oa=n(284),ia=n(286),sa=n(285),ua=Object(oa.a)({palette:{primary:sa.a},typography:{button:{textTransform:"none"}}}),la=function(e){var t=e.children;return Object(a.jsx)(ia.a,{theme:ua,children:t})},ja=new u.a;i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsxs)(l.a,{client:ja,children:[Object(a.jsx)(s.a,{}),Object(a.jsx)(la,{children:Object(a.jsx)(Oe,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(ca,{}),Object(a.jsx)(j.ReactQueryDevtools,{initialIsOpen:!1})]})})})]})}),document.getElementById("root")),ra()}},[[199,1,2]]]);
//# sourceMappingURL=main.7e785094.chunk.js.map