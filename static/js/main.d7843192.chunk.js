(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{160:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(217),n(0)),c=n.n(r),i=n(17),o=n.n(i),s=n(358),l=n(361),u=n(124),d=n(174),j=n(102),b=n(35),h=n(192),m=(n(160),n(58)),p=n(19),O=n(365),f=n(175),v=n.n(f),x=n(193),g=n(334),y=n(335),C=n(336),w=n(65),k=n(330),S=n(275),T=n(332),N=n(333),I=n(18),L=n(136),A=n(194),P=n(331),B=n(179),R=n.n(B),E=n(371),F=n(328),q=n(76),V=Object(q.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},medium:{width:e.spacing(5),height:e.spacing(5)},large:{width:e.spacing(16),height:e.spacing(16)}}})),D=function(e){var t=e.firstName,n=e.lastName,r=e.avatar,c=e.size,i=void 0===c?"medium":c,o=e.variant,s=e.loading,l=void 0!==s&&s,u=V(),d="".concat(t," ").concat(n);return l?Object(a.jsx)(F.a,{className:u[i],variant:"circle",animation:"wave"}):Object(a.jsx)(E.a,{variant:o,className:u[i],alt:d,src:r})},H=c.a.memo(D),W=Object(q.a)((function(e){return{fullHeight:{height:"100%"},itemIcon:{minWidth:0,paddingRight:e.spacing(1)}}})),z=n(364),M=n(21),Q=n.n(M),U=n(34),_=n(43),G=n.n(_),J={uploadImage:function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/teamfindr/image/upload","teamfindr",(n=new FormData).append("file",t),n.append("upload_preset","teamfindr"),e.next=7,G.a.post("https://api.cloudinary.com/v1_1/teamfindr/image/upload",n);case 7:return a=e.sent,r=a.data.secure_url,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=n(23),K="https://photon.komoot.io",X=function(e){var t=e.geometry.coordinates,n=e.properties,a=n.name,r=n.country,c=n.city,i=n.postcode,o=n.housenumber,s=n.street,l={geo:{type:"Point",coordinates:t},country:r,city:c,postcode:i,number:o,street:s,type:n.type},u="",d=[];switch(e.properties.type){case"house":a?d=["number","street","postcode","city","country"]:(u="".concat(o?"".concat(o," "):"").concat(s),d=["postcode","city","country"]);break;case"street":d=["postcode","city","country"];break;case"district":d=["city","country"];break;case"city":case"county":d=["country"]}return Object(Z.a)(Object(Z.a)({},l),{},{name:a||u,description:d.map((function(e){return l[e]})).filter((function(e){return!!e})).join(", ")})},Y=function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a,r,c,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(I.a)(t,2),a=n[0],r=n[1],e.next=3,G.a.get("".concat(K,"/reverse?lat=").concat(r,"&lon=").concat(a));case 3:return c=e.sent,i=c.data,e.abrupt("return",Object(Z.a)(Object(Z.a)({},X(i.features[0])),{},{geo:{type:"Point",coordinates:t}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){return function(t){return!e||t.type===e}},ee={getLocationFromGeolocation:function(){var e=Object(U.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=navigator.geolocation;n||t({code:GeolocationPositionError.POSITION_UNAVAILABLE,message:"Geolocation not available"}),n.getCurrentPosition((function(t){return e([t.coords.longitude,t.coords.latitude])}),t)}));case 2:return t=e.sent,e.abrupt("return",Y(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLocationFromIp:function(){var e=Object(U.a)(Q.a.mark((function e(){var t,n,a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://geolocation-db.com/json/85249190-4601-11eb-9067-21b51bc8dee3");case 2:return t=e.sent,n=t.data,a=n.latitude,r=n.longitude,e.abrupt("return",Y([r,a]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLocationSuggestions:function(){var e=Object(U.a)(Q.a.mark((function e(t,n,a){var r,c,i,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return r=n?"&lon=".concat(n[0],"&lat=").concat(n[1]):"",c="".concat(K,"/api/?q=").concat(encodeURIComponent(t)).concat(r),e.prev=4,e.next=7,G.a.get(c);case 7:return i=e.sent,o=i.data.features,e.abrupt("return",o.map(X).filter($(a)));case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),getLocationFromCoordinates:Y},te="https://api.teamfindr.saltares.com",ne={verify:function(){var e=Object(U.a)(Q.a.mark((function e(){var t,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("".concat(te,"/auth/verify"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return t=e.sent,n=t.data.user,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)){e.next=12;break}return e.abrupt("return",null);case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),openIdpAuthPage:function(e){window.open("".concat(te,"/auth/").concat(e),"_self")},logout:function(){window.open("".concat(te,"/auth/logout"),"_self")},patchUser:function(){var e=Object(U.a)(Q.a.mark((function e(t,n){var a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.patch("".concat(te,"/users/").concat(t),{user:n},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return a=e.sent,r=a.data.user,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ae=n(103),re=function(e){return Object.keys(e).reduce((function(t,n){var a=e[n];return n&&a?[].concat(Object(ae.a)(t),["".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(a))]):t}),[]).join("&")},ce={images:J,location:ee,user:ne,venues:{createVenue:function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a,r,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.location,e.next=3,G.a.post("".concat(te,"/venues"),{venue:{name:n,location:a}},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 3:return r=e.sent,c=r.data.venue,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenues:function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a,r,c,i,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,a=t.radius,r=(null===n||void 0===n?void 0:n.geo.coordinates)||[],c=re({lon:r[0],lat:r[1],radius:a}),e.next=5,G.a.get("".concat(te,"/venues?").concat(c),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 5:return i=e.sent,o=i.data.venues,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVenue:function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("".concat(te,"/venues/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.venue,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},events:{createEvent:function(){var e=Object(U.a)(Q.a.mark((function e(t){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.post("".concat(te,"/events"),{event:t},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,a=n.data.event,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ie=Object(r.createContext)(ce),oe=function(){return Object(r.useContext)(ie)},se=function(e){var t=e.children,n=e.services;return Object(a.jsx)(ie.Provider,{value:n||ce,children:t})},le=432e5,ue=function(){var e=function(){var e=oe(),t=Object(z.a)("geoLocation",(function(){return e.location.getLocationFromGeolocation()}),{staleTime:le,refetchInterval:le});return{isLoading:t.isLoading,error:t.error,location:t.data||null}}(),t=function(){var e=oe(),t=Object(z.a)("ipLocation",(function(){return e.location.getLocationFromIp()}),{staleTime:le,refetchInterval:le});return{isLoading:t.isLoading,error:t.error,location:t.data||null}}(),n=!!t.location||!!t.error;return!!e.error&&(n&&!!t)?t:e},de=n(125),je=function(e){var t=e.query,n=e.around,a=e.restrictToType,c=oe(),i=Object(de.a)(t,200),o=Object(r.useState)([]),s=Object(I.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)(!1),j=Object(I.a)(d,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){(function(){var e=Object(U.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,c.location.getLocationSuggestions(i,n,a);case 3:(t=e.sent)&&u(t),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,u,h,c,n,a]),{suggestions:l,loading:b}},be=n(329),he={leading:!0,trailing:!0},me=function(e){var t=Object(de.a)(e,200,he),n=Object(r.useState)(null),a=Object(I.a)(n,2),c=a[0],i=a[1],o=oe();return Object(r.useEffect)((function(){(function(){var e=Object(U.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o.location.getLocationFromCoordinates(t);case 5:n=e.sent,i(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t,o,i]),c},pe=function(){var e=Object(r.useState)(null),t=Object(I.a)(e,2),n=t[0],a=t[1],c=me(n);return Object(be.b)({click:function(e){a([e.latlng.lng,e.latlng.lat])}}),c},Oe=432e5,fe=function(){var e=oe(),t=Object(z.a)("user",(function(){return e.user.verify()}),{staleTime:Oe,cacheTime:Oe});return{isLoading:t.isLoading,error:t.error,user:t.data}},ve=function(){return oe().user.logout},xe=function(){return oe().user.openIdpAuthPage},ge=n(367),ye=function(){var e=Object(u.b)(),t=oe(),n=fe().user,a=function(){var e=Object(U.a)(Q.a.mark((function e(a){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.images.uploadImage(a);case 2:return r=e.sent,e.abrupt("return",t.user.patchUser(n.id,{avatar:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ge.a)(a,{onSuccess:function(t){e.setQueryData("user",t)}})},Ce=function(){var e=oe(),t=Object(u.b)();Object(r.useEffect)((function(){t.fetchQuery("user",e.user.verify),t.fetchQuery("ipLocation",e.location.getLocationFromIp),t.fetchQuery("geoLocation",e.location.getLocationFromGeolocation)}),[t,e])},we=function(){var e=Object(u.b)(),t=oe();return Object(ge.a)(t.venues.createVenue,{onSuccess:function(t){e.invalidateQueries("venues"),e.setQueryData("venues/".concat(t.id),t)}})},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(r.useState)(e),a=Object(I.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c},Se=function(e,t){var n=Object(u.b)(),a=oe(),r=ke(t,200),c=Object(z.a)(["venues",[null===e||void 0===e?void 0:e.geo.coordinates,r]],(function(){return a.venues.getVenues({location:e,radius:r})}),{staleTime:432e5,enabled:!!e,onSuccess:function(e){e.forEach((function(e){n.setQueryData("venues/".concat(e.id),e)}))}});return{isLoading:c.isLoading,error:c.error,venues:c.data}},Te=function(e){var t=oe(),n=Object(z.a)("venues/".concat(e),(function(){return t.venues.getVenue(e)}),{staleTime:432e5});return{isLoading:n.isLoading,error:n.error,venue:n.data}},Ne=function(){var e=Object(u.b)(),t=oe();return Object(ge.a)(t.events.createEvent,{onSuccess:function(t){e.invalidateQueries("events"),e.setQueryData("events/".concat(t.id),t)}})},Ie=function(){var e=fe().user,t=ve(),n=c.a.useState(null),r=Object(I.a)(n,2),i=r[0],o=r[1],s=W(),l=[{key:"logout",label:"Log out",onClick:function(){t()},Icon:R.a}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L.a,{className:s.fullHeight,onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(H,{avatar:e.avatar})}),Object(a.jsx)(A.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:l.map((function(e){return Object(a.jsxs)(P.a,{onClick:e.onClick,children:[Object(a.jsx)(T.a,{className:s.itemIcon,children:Object(a.jsx)(e.Icon,{})}),Object(a.jsx)(N.a,{children:e.label})]},e.key)}))})]})},Le=c.a.memo(Ie),Ae=Object(q.a)((function(e){return{topBar:{minHeight:"auto",height:64},fullHeight:{height:"100%"},titleContainer:{paddingRight:e.spacing(6)},list:{padding:0,display:"flex",flexDirection:"row",height:"100%"},item:{height:"100%"},icon:{minWidth:0,paddingRight:e.spacing(1)},filler:{height:64}}})),Pe=n(180),Be=n.n(Pe),Re=n(61),Ee=n.n(Re),Fe=n(85),qe=n.n(Fe),Ve=n(181),De=n.n(Ve),He=[{value:"home",label:"Home",icon:Be.a},{value:"events",label:"Events",icon:Ee.a},{value:"venues",label:"Venues",icon:qe.a},{value:"settings",label:"Settings",icon:De.a}],We=function(){var e=Ae(),t=Object(p.h)().pathname.split("/")[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g.a,{className:e.topBar,position:"fixed",children:Object(a.jsx)(y.a,{children:Object(a.jsxs)(C.a,{container:!0,className:e.fullHeight,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(C.a,{item:!0,className:e.fullHeight,children:Object(a.jsxs)(C.a,{container:!0,className:e.fullHeight,alignItems:"center",children:[Object(a.jsx)(C.a,{item:!0,className:e.titleContainer,children:Object(a.jsx)(w.a,{variant:"h5",children:"TeamFindr"})}),Object(a.jsx)(C.a,{item:!0,className:e.fullHeight,children:Object(a.jsx)(k.a,{className:e.list,component:"nav",children:He.map((function(n){return Object(a.jsxs)(S.a,{className:e.item,selected:n.value===t,button:!0,component:m.b,to:"/".concat(n.value),children:[Object(a.jsx)(T.a,{className:e.icon,children:Object(a.jsx)(n.icon,{})}),Object(a.jsx)(N.a,{children:n.label})]},n.value)}))})})]})}),Object(a.jsx)(C.a,{item:!0,className:e.fullHeight,children:Object(a.jsx)(Le,{})})]})})}),Object(a.jsx)(y.a,{disableGutters:!0,className:e.filler})]})},ze=c.a.memo(We),Me=n(337),Qe=n(338),Ue=Object(q.a)((function(e){return{navigation:{position:"fixed",bottom:0,top:"auto",width:"100%",zIndex:e.zIndex.drawer+1},filler:{background:"none"}}})),_e=function(){var e=Ue(),t=Object(p.g)(),n=Object(p.h)().pathname.split("/")[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Me.a,{className:e.filler}),Object(a.jsx)(Me.a,{className:e.navigation,value:n,onChange:function(e,n){t.push("/".concat(n))},children:He.map((function(e){return Object(a.jsx)(Qe.a,{value:e.value,label:e.label,icon:Object(a.jsx)(e.icon,{})},e.value)}))})]})},Ge=c.a.memo(_e),Je=Object(q.a)((function(e){return{container:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}})),Ze=function(e){var t=e.title,n=e.action,r=Je();return Object(a.jsxs)("div",{className:r.container,children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{variant:"h4",children:t})}),n&&Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{startIcon:n.icon,color:"primary",variant:"contained",onClick:n.onClick,children:n.label})})]})},Ke=c.a.memo(Ze),Xe=Object(q.a)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",height:"100%"},centered:{display:"flex",flex:1,flexDirection:"column",alignItems:"center"},titleContainer:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},content:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",width:"100%",maxWidth:"900px",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}})),Ye=function(e){var t=e.title,n=e.titleAction,r=e.children,c=Xe();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(O.a,{smDown:!0,children:Object(a.jsx)(ze,{})}),Object(a.jsx)(x.a,{disableWidth:!0,children:function(e){var i=e.height;return Object(a.jsx)(v.a,{autoHide:!0,style:{width:"100%",height:document.documentElement.clientHeight-i},children:Object(a.jsx)("div",{className:c.centered,children:Object(a.jsxs)("main",{className:c.content,children:[Object(a.jsx)("div",{className:c.titleContainer,children:Object(a.jsx)(Ke,{title:t,action:n})}),r]})})})}}),Object(a.jsx)(O.a,{mdUp:!0,children:Object(a.jsx)(Ge,{})})]})},$e=c.a.memo(Ye),et=function(){return Object(a.jsx)($e,{title:"Home",children:Object(a.jsx)("div",{children:"Page content"})})},tt=c.a.memo(et),nt=n(148),at=n(131),rt=n.n(at),ct=n(359),it=n(363),ot=function(e,t){return e?t.find((n=e,function(e){var t=n.geo.coordinates,a=e.geo.coordinates;return t[0]===a[0]&&t[1]===a[1]}))?t:[e].concat(Object(ae.a)(t)):t;var n},st=function(e){return"Enter a ".concat(e||"location")},lt=function(e){var t=e.value,n=e.around,c=e.onChange,i=e.disabled,o=void 0!==i&&i,s=e.required,l=void 0!==s&&s,u=e.restrictToType,d=e.name,j=e.error,b=void 0!==j&&j,h=e.helperText,m=e.onBlur,p=Object(r.useState)(""),O=Object(I.a)(p,2),f=O[0],v=O[1],x=je({query:f,around:n,restrictToType:u}),g=x.suggestions,y=x.loading;return Object(a.jsx)(it.a,{fullWidth:!0,disabled:o,getOptionLabel:function(e){return function(e,t){return t&&"house"!==t&&e[t]||e.name}(e,u)},options:ot(t,g),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,disableClearable:!0,value:t,loading:y,noOptionsText:"No results",onChange:function(e,t){c(t)},onInputChange:function(e,t){v(t)},renderInput:function(e){return Object(a.jsx)(ct.a,Object(Z.a)(Object(Z.a)({},e),{},{name:d,label:st(u),variant:"outlined",fullWidth:!0,required:l,error:b,helperText:h,onBlur:m}))},renderOption:function(e){return Object(a.jsxs)(C.a,{container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{color:"textSecondary",children:Object(a.jsx)(qe.a,{})})}),Object(a.jsxs)(C.a,{item:!0,xs:!0,children:[Object(a.jsx)(w.a,{color:"textPrimary",children:e.name}),Object(a.jsx)(w.a,{color:"textSecondary",children:e.description||""})]})]})}})},ut=c.a.memo(lt),dt=n(340),jt=n(369),bt=n(341),ht=n(370),mt=n(54),pt=n.n(mt),Ot=pt.a.icon({iconUrl:"/icons/marker.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-20]}),ft=pt.a.icon({iconUrl:"/icons/pin.svg",iconSize:[38,95],iconAnchor:[19,60],popupAnchor:[0,-15]}),vt=function(e){return[e[1],e[0]]},xt=function(e){var t=e.onChange,n=e.location,a=Object(be.a)(),c=pe();Object(be.b)({click:function(e){a.setView([e.latlng.lat,e.latlng.lng],a.getZoom())}});var i=Object(r.useState)(null),o=Object(I.a)(i,2),s=o[0],l=o[1],u=n.geo.coordinates;return Object(r.useEffect)((function(){t&&c&&c!==s&&(t(c),l(c))}),[c,t,s,l]),Object(r.useEffect)((function(){a.setView(vt(u),a.getZoom())}),[a,u]),null},gt=function(e){var t=e.location,n=e.onChange,r=e.circleRadius,c=e.markers;if(!t)return Object(a.jsx)(F.a,{width:"100%",height:310,variant:"rect"});var i=t.geo.coordinates,o=vt(i);return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)(dt.a,{zoom:12,scrollWheelZoom:!0,children:[Object(a.jsx)(xt,{location:t,onChange:n}),Object(a.jsx)(jt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(a.jsx)(bt.a,{position:o,icon:ft}),r&&Object(a.jsx)(ht.a,{center:o,pathOptions:{color:"green",fillColor:"green"},radius:r}),!!c&&c]})})},yt=c.a.memo(gt),Ct=function(e){var t=e.location,n=e.onChange,c=e.disabled,i=void 0!==c&&c,o=e.name,s=e.error,l=void 0!==s&&s,u=e.helperText,d=e.onBlur,j=e.disableChangePositionViaMap,b=e.restrictToType,h=e.circleRadius,m=e.markers,p=ue().location;return Object(r.useEffect)((function(){!t&&p&&n(p)}),[p,n,t]),Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(ut,{name:o,value:t,onChange:n,disabled:i||j,required:!0,around:null===p||void 0===p?void 0:p.geo.coordinates,error:l,helperText:u,onBlur:d,restrictToType:b})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(yt,{location:t,onChange:n,circleRadius:h,markers:m})})]})},wt=c.a.memo(Ct),kt=n(373),St=Object(q.a)((function(e){return{root:{width:"100%"},sliderContainer:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)}}})),Tt=function(e){var t=e.id,n=e.value,c=e.onChange,i=e.name,o=e.disabled,s=e.valueText,l=void 0===s?function(e){return e.toString()}:s,u=e.marks,d=e.label,j=e.step,b=e.min,h=e.max,m=St(),p=Object(r.useCallback)((function(e,t){c(e,t)}),[c]);return Object(a.jsxs)("div",{className:m.root,children:[Object(a.jsxs)(w.a,{id:t,gutterBottom:!0,children:[d,": ","".concat(l(n))]}),Object(a.jsx)("div",{className:m.sliderContainer,children:Object(a.jsx)(kt.a,{getAriaValueText:l,"aria-labelledby":t,step:j,marks:u,min:b,max:h,name:i,value:n,onChange:p,disabled:o})})]})},Nt=c.a.memo(Tt);function It(e){return"".concat(Math.round(e/1e3),"km")}var Lt=[{value:1e3,label:"1km"},{value:5e3,label:"5km"},{value:1e4,label:"10km"},{value:2e4,label:"20km"},{value:3e4,label:"30km"}],At=function(e){var t=e.id,n=e.value,r=e.onChange,c=e.name,i=e.disabled;return Object(a.jsx)(Nt,{label:"Radius",id:t,valueText:It,step:1e3,marks:Lt,min:1e3,max:3e4,name:c,value:n,onChange:r,disabled:i})},Pt=c.a.memo(At),Bt=function(e){var t=e.id,n=e.value,r=e.onChange,c=e.name,i=e.disabled;return Object(a.jsx)(Nt,{label:"Number of players",id:t,step:1,min:2,max:30,name:c,value:n,onChange:r,disabled:i})},Rt=c.a.memo(Bt),Et=function(e){return"".concat(e," min")},Ft=function(e){var t=e.id,n=e.value,r=e.onChange,c=e.name,i=e.disabled;return Object(a.jsx)(Nt,{label:"Duration",id:t,valueText:Et,step:15,min:15,max:120,name:c,value:n,onChange:r,disabled:i})},qt=c.a.memo(Ft),Vt=n(372),Dt=["Football","Basketball","Tennis","Squash","Volleyball","Handball","Padel","Badminton","Table tennis"],Ht={Football:Ee.a,Basketball:Ee.a,Tennis:Ee.a,Squash:Ee.a,Volleyball:Ee.a,Handball:Ee.a,Padel:Ee.a,Badminton:Ee.a,"Table tennis":Ee.a},Wt=function(e){if(function(e){return e in Ht}(e)){var t=Ht[e];return Object(a.jsx)(t,{})}},zt=function(e){var t=e.value,n=e.multiple,r=e.onChange,c=e.disabled,i=e.required,o=e.name,s=e.error,l=e.helperText,u=e.onBlur;return Object(a.jsx)(it.a,{value:t,onChange:function(e,t){return r(t)},multiple:n,filterSelectedOptions:!0,disabled:c,options:Dt,renderTags:function(e,t){return e.map((function(e,n){return Object(a.jsx)(Vt.a,Object(Z.a)({variant:"outlined",icon:Wt(e),label:e},t({index:n})))}))},renderInput:function(e){return Object(a.jsx)(ct.a,Object(Z.a)(Object(Z.a)({},e),{},{variant:"outlined",fullWidth:!0,disabled:c,required:i,name:o,error:s,helperText:l,onBlur:u,label:n?"Sports":"Sport"}))},renderOption:function(e){return Object(a.jsxs)(C.a,{container:!0,alignContent:"center",spacing:1,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{color:"textSecondary",children:Wt(e)||null})}),Object(a.jsx)(C.a,{item:!0,xs:!0,children:Object(a.jsx)(w.a,{color:"textSecondary",children:e})})]})}})},Mt=c.a.memo(zt),Qt=n(342),Ut=function(e){var t=e.value,n=e.onChange,r=e.disabled;return Object(a.jsx)(Qt.a,{autoOk:!0,fullWidth:!0,inputVariant:"outlined",label:"Date",clearable:!0,disableFuture:!0,value:t,onChange:n,format:"yyyy/MM/dd",placeholder:"yyyy/mm/dd",disabled:r})},_t=c.a.memo(Ut),Gt=n(366),Jt=function(e){var t=e.value,n=e.onChange,r=e.disabled,c=e.onBlur,i=e.name,o=e.required,s=e.error,l=e.helperText,u=e.disablePast;return Object(a.jsx)(Gt.a,{name:i,autoOk:!0,disablePast:u,fullWidth:!0,error:s,helperText:l,required:o,inputVariant:"outlined",label:"Date & time",clearable:!0,value:t,onChange:n,format:"yyyy/MM/dd HH:mm",placeholder:"yyyy/mm/dd hh:mm",disabled:r,onBlur:c})},Zt=c.a.memo(Jt),Kt=n(346),Xt=n(362),Yt=Object(q.a)((function(e){return{filtersPaper:{padding:e.spacing(2)}}})),$t=n(339),en=n(282),tn=n(345),nn=n(277),an=n(183),rn=n.n(an),cn=n(32),on=Object(q.a)((function(e){return{dialogPaper:{minWidth:500,maxWidth:900},title:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),sn=function(e){var t=e.id,n=e.open,r=e.onClose,c=e.title,i=e.children,o=e.loading,s=void 0!==o&&o,l=Object(cn.a)(),u=Object($t.a)(l.breakpoints.down("sm")),d="".concat(t,"-title"),j=on();return Object(a.jsxs)(en.a,{classes:{paper:u?void 0:j.dialogPaper},fullScreen:u,disableBackdropClick:s,disableEscapeKeyDown:s,onClose:r,"aria-labelledby":d,open:n,scroll:"paper",children:[Object(a.jsxs)(tn.a,{id:d,className:j.title,disableTypography:!0,children:[Object(a.jsx)(w.a,{variant:"h6",children:c}),r?Object(a.jsx)(nn.a,{"aria-label":"close",className:j.closeButton,onClick:r,children:Object(a.jsx)(rn.a,{})}):null]}),n&&i]})},ln=c.a.memo(sn),un=n(279),dn=n(343),jn=function(e){var t=e.actions,n=e.loading,r=void 0!==n&&n;return Object(a.jsx)(un.a,{children:t.map((function(e){return Object(a.jsx)(L.a,{type:e.type,onClick:e.onClick,color:"primary",disabled:e.disabled||r,children:e.loading?Object(a.jsx)(dn.a,{size:24,color:"primary"}):e.label},e.key)}))})},bn=c.a.memo(jn),hn=n(278),mn=function(e){var t=e.children;return Object(a.jsx)(hn.a,{dividers:!0,children:t})},pn=c.a.memo(mn),On=n(133),fn=function(e,t){return e?t.find((function(t){return t.id===e.id}))?t:[e].concat(Object(ae.a)(t)):t},vn=function(e){var t=e.value,n=e.onChange,r=e.options,c=e.disabled,i=e.required,o=e.name,s=e.error,l=e.helperText,u=e.onBlur;return Object(a.jsx)(it.a,{value:t,onChange:function(e,t){return n(t)},disabled:c,options:fn(t,r),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(ct.a,Object(Z.a)(Object(Z.a)({},e),{},{variant:"outlined",fullWidth:!0,disabled:c,required:i,name:o,error:s,helperText:l,onBlur:u,label:"Venue"}))},renderOption:function(e){return Object(a.jsxs)(C.a,{container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{color:"textSecondary",children:Object(a.jsx)(qe.a,{})})}),Object(a.jsxs)(C.a,{item:!0,xs:!0,children:[Object(a.jsx)(w.a,{color:"textPrimary",children:e.name}),Object(a.jsx)(w.a,{color:"textSecondary",children:e.location.description||""})]})]})}})},xn=c.a.memo(vn),gn=function(e){var t=e.value,n=e.onChange,c=e.name,i=e.disabled,o=void 0!==i&&i,s=e.error,l=void 0!==s&&s,u=e.helperText,d=e.onBlur,j=Object(r.useState)(null),b=Object(I.a)(j,2),h=b[0],m=b[1],p=Object(r.useState)(5e3),O=Object(I.a)(p,2),f=O[0],v=O[1],x=Se(h,f).venues,g=ue(),y=g.location,w=g.isLoading;Object(r.useEffect)((function(){!h&&y&&m(y)}),[y,m,h]);return Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(xn,{value:t,options:x||[],onChange:n,disabled:o,required:!0,name:c,error:l,helperText:u,onBlur:d})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(yt,{location:h,onChange:m,circleRadius:f})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(Pt,{id:"venue-field-radius",value:f,disabled:w,onChange:function(e,t){return v(t)}})})]})},yn=c.a.memo(gn),Cn={venue:null,sport:null,numPlayers:2,startsAt:null,duration:60,price:{amount:1,currency:"EUR"},description:""},wn=function(e){var t=e.onClose,n=Ne(),c=Object(j.b)().enqueueSnackbar;return Object(r.useEffect)((function(){n.isSuccess&&(t(),c("Event created",{variant:"success"})),n.isError&&c("Failed to create event",{variant:"error"})}),[c,n.isSuccess,n.isError,t]),Object(a.jsx)(On.a,{initialValues:Cn,onSubmit:function(e){var t,a;n.mutate({startsAt:null===(t=e.startsAt)||void 0===t?void 0:t.toISOString(),venue:null===(a=e.venue)||void 0===a?void 0:a.id,sport:e.sport,duration:e.duration,numPlayers:e.numPlayers,description:e.description,price:e.price})},validate:function(e){var t={};return e.venue||(t.venue="Required"),e.sport||(t.sport="Required"),(e.numPlayers<2||e.numPlayers>30)&&(t.numPlayers="Should be between 2 and 30"),e.price.amount<0&&(t.price="Should be positive or 0"),e.description||(t.description="Required"),e.startsAt||(t.startsAt="Required"),t},children:function(e){var t=e.values,r=e.errors,c=e.touched,i=e.handleChange,o=e.handleBlur,s=e.handleSubmit,l=e.setFieldValue;return Object(a.jsxs)("form",{onSubmit:s,children:[Object(a.jsx)(pn,{children:Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(yn,{name:"venue",value:t.venue,onChange:function(e){return l("venue",e)},onBlur:o,error:c.venue&&!!r.venue,helperText:c.venue&&r.venue})}),Object(a.jsxs)(C.a,{item:!0,children:[Object(a.jsxs)(C.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,xs:6,children:Object(a.jsx)(Mt,{name:"sport",value:t.sport,onChange:function(e){return l("sport",e)},onBlur:o,error:c.sport&&!!r.sport,helperText:c.sport&&r.sport})}),Object(a.jsx)(C.a,{item:!0,xs:6,children:Object(a.jsx)(Rt,{id:"new-event-players-slider",name:"numPlayers",value:t.numPlayers,onChange:function(e,t){return l("numPlayers",t)}})})]}),Object(a.jsxs)(C.a,{item:!0,children:[Object(a.jsxs)(C.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,xs:6,children:Object(a.jsx)(Zt,{required:!0,name:"startsAt",value:t.startsAt,onChange:function(e){return l("startsAt",e)},onBlur:o,disablePast:!0,error:c.startsAt&&!!r.startsAt,helperText:c.startsAt&&r.startsAt})}),Object(a.jsx)(C.a,{item:!0,xs:6,children:Object(a.jsx)(qt,{id:"new-event-duration-slider",name:"duration",value:t.duration,onChange:function(e,t){return l("duration",t)}})})]}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(ct.a,{name:"description",label:"Description",placeholder:"Add indications or rules about the event.",fullWidth:!0,multiline:!0,variant:"outlined",onChange:i,onBlur:o,error:c.description&&!!r.description,helperText:c.description&&r.description})})]})]})]})}),Object(a.jsx)(bn,{actions:[{key:"create",label:"Create",loading:n.isLoading,type:"submit"}]})]})}})},kn=function(e){var t=e.open,n=e.onClose;return Object(a.jsx)(ln,{id:"new-event-dialog",title:"New event",open:t,onClose:n,children:Object(a.jsx)(wn,{onClose:n})})},Sn=c.a.memo(kn),Tn=function(){var e,t=Yt(),n=Object(r.useState)(null),c=Object(I.a)(n,2),i=c[0],o=c[1],s=Object(r.useState)(5e3),l=Object(I.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)([]),b=Object(I.a)(j,2),h=b[0],m=b[1],p=Object(r.useState)(new Date),O=Object(I.a)(p,2),f=O[0],v=O[1],x=Object(r.useState)(!1),g=Object(I.a)(x,2),y=g[0],w=g[1],k=ue(),S=Object(r.useState)(!1),T=Object(I.a)(S,2),N=T[0],L=T[1];return Object(r.useEffect)((function(){k.location&&!i&&o(k.location)}),[k,i]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($e,{title:"Events",titleAction:{label:"New event",icon:Object(a.jsx)(rt.a,{}),onClick:function(){return L(!0)}},children:Object(a.jsxs)(C.a,{container:!0,spacing:3,children:[Object(a.jsx)(C.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(nt.a,{className:t.filtersPaper,children:Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(wt,{location:i,onChange:o,disabled:k.isLoading,around:null===(e=k.location)||void 0===e?void 0:e.geo.coordinates,circleRadius:u})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(Pt,{id:"venue-search-radius",value:u,disabled:k.isLoading,onChange:function(e,t){return d(t)}})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(Mt,{multiple:!0,value:h,onChange:m,disabled:k.isLoading})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(_t,{value:f,onChange:v,disabled:k.isLoading})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(Kt.a,{control:Object(a.jsx)(Xt.a,{checked:y,onChange:function(e,t){return w(t)},color:"primary",disabled:k.isLoading}),label:"Exclude full"})})]})})}),Object(a.jsx)(C.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(F.a,{width:"100%",height:"100%",variant:"rect"})})]})}),Object(a.jsx)(Sn,{open:N,onClose:function(){return L(!1)}})]})},Nn=c.a.memo(Tn),In={name:"",location:null},Ln=function(e){var t=e.onClose,n=we(),c=Object(j.b)().enqueueSnackbar;return Object(r.useEffect)((function(){n.isSuccess&&(t(),c("Venue created",{variant:"success"})),n.isError&&c("Failed to create venue",{variant:"error"})}),[c,n.isSuccess,n.isError,t]),Object(a.jsx)(On.a,{initialValues:In,onSubmit:function(e){n.mutate({name:e.name,location:e.location})},validate:function(e){var t={};return e.name||(t.name="Required"),e.location||(t.location="Required"),t},children:function(e){var t=e.values,r=e.errors,c=e.touched,i=e.handleChange,o=e.handleBlur,s=e.handleSubmit,l=e.setFieldValue;return Object(a.jsxs)("form",{onSubmit:s,children:[Object(a.jsx)(pn,{children:Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(ct.a,{required:!0,label:"Name",variant:"outlined",name:"name",value:t.name,fullWidth:!0,onChange:i,error:c.name&&!!r.name,helperText:c.name&&r.name,onBlur:o})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(wt,{name:"location",location:t.location,error:c.location&&!!r.location,helperText:c.location&&r.location,onBlur:o,onChange:function(e){return l("location",e)}})})]})}),Object(a.jsx)(bn,{actions:[{key:"create",label:"Create",loading:n.isLoading,type:"submit"}]})]})}})},An=function(e){var t=e.open,n=e.onClose;return Object(a.jsx)(ln,{id:"new-venue-dialog",title:"New venue",open:t,onClose:n,children:Object(a.jsx)(Ln,{onClose:n})})},Pn=c.a.memo(An),Bn=n(347),Rn=n(186),En=n.n(Rn),Fn=Object(q.a)((function(){return{link:{display:"flex",alignItems:"center",textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none",color:"inherit"}}}})),qn=function(e){var t=e.venue,n=Fn();return Object(a.jsx)(S.a,{button:!0,component:"li",children:Object(a.jsxs)(m.b,{className:n.link,to:"/venues/".concat(t.id),children:[Object(a.jsx)(Bn.a,{children:Object(a.jsx)(E.a,{children:Object(a.jsx)(En.a,{})})}),Object(a.jsx)(N.a,{primary:t.name,secondary:"".concat(t.location.name," ").concat(t.location.description)})]})})},Vn=c.a.memo(qn),Dn=function(e){var t=e.venues;return Object(a.jsx)(k.a,{children:t.map((function(e){return Object(a.jsx)(Vn,{venue:e},e.id)}))})},Hn=c.a.memo(Dn),Wn=n(348),zn=function(e){var t=e.venues,n=void 0===t?[]:t;return Object(a.jsx)(a.Fragment,{children:n.map((function(e){return Object(a.jsx)(bt.a,{position:vt(e.location.geo.coordinates),icon:Ot,children:Object(a.jsx)(Wn.a,{children:Object(a.jsx)(m.b,{to:"/venues/".concat(e.id),children:e.name})})},e.id)}))})},Mn=c.a.memo(zn),Qn=Object(q.a)((function(e){return{filtersPaper:{padding:e.spacing(2)}}})),Un=function(){var e,t=Object(r.useState)(null),n=Object(I.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(5e3),s=Object(I.a)(o,2),l=s[0],u=s[1],d=Se(c,l).venues,j=ue(),b=Object(r.useState)(!1),h=Object(I.a)(b,2),m=h[0],p=h[1];Object(r.useEffect)((function(){j.location&&!c&&i(j.location)}),[j,c]);var O=Qn();return Object(a.jsx)($e,{title:"Venues",titleAction:{label:"New venue",icon:Object(a.jsx)(rt.a,{}),onClick:function(){return p(!0)}},children:Object(a.jsxs)(C.a,{container:!0,spacing:3,children:[Object(a.jsx)(C.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(nt.a,{className:O.filtersPaper,children:Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(wt,{location:c,onChange:i,disabled:j.isLoading,around:null===(e=j.location)||void 0===e?void 0:e.geo.coordinates,circleRadius:l,markers:Object(a.jsx)(Mn,{venues:d})})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(Pt,{id:"venue-search-radius",value:l,disabled:j.isLoading,onChange:function(e,t){return u(t)}})})]})})}),Object(a.jsx)(C.a,{item:!0,xs:12,md:6,children:d?Object(a.jsx)(nt.a,{children:d&&Object(a.jsx)(Hn,{venues:d})}):Object(a.jsx)(F.a,{width:"100%",height:"100%",variant:"rect"})}),Object(a.jsx)(Pn,{open:m,onClose:function(){return p(!1)}})]})})},_n=c.a.memo(Un),Gn=n(349),Jn=n(350),Zn=n(352),Kn=n(353),Xn=n(351),Yn=n(187),$n=Object(q.a)((function(){return{card:{width:"100%"},address:{flex:1}}})),ea=function(e){if(!e)return"";var t=Object(I.a)(e.location.geo.coordinates,2),n=t[0],a=t[1],r=Yn.isIOS?"maps":"https";return"".concat(r,"://maps.google.com/maps?daddr=").concat(a,",").concat(n,"&amp;ll=")},ta=function(e){var t=e.venue,n=$n();return Object(a.jsxs)(Gn.a,{className:n.card,children:[Object(a.jsx)(Jn.a,{component:Xn.a,href:ea(t),rel:"nofollow noopener",target:"_blank",color:"inherit",underline:"none",disabled:!t,children:Object(a.jsx)(Zn.a,{children:Object(a.jsxs)(C.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{color:"textSecondary",children:Object(a.jsx)(qe.a,{})})}),Object(a.jsx)(C.a,{item:!0,className:n.address,children:t?Object(a.jsx)(w.a,{color:"textSecondary",children:t.location.description||t.location.name}):Object(a.jsx)(F.a,{variant:"text"})})]})})}),Object(a.jsx)(Kn.a,{children:Object(a.jsx)(yt,{location:(null===t||void 0===t?void 0:t.location)||null})})]})},na=c.a.memo(ta),aa=function(){var e=Object(p.i)().venueId,t=Te(e).venue;return Object(a.jsx)($e,{title:(null===t||void 0===t?void 0:t.name)||"",children:Object(a.jsx)(na,{venue:t})})},ra=c.a.memo(aa),ca=n(360),ia=n(344),oa=n(197),sa=n(132),la=n.n(sa),ua=n(189),da=n.n(ua),ja=n(188),ba=n.n(ja),ha=n(354),ma=Object(q.a)((function(e){return{visuallyHidden:{display:"none"}}})),pa=function(){var e=ma(),t=fe().user,n=ye(),c=n.mutate,i=n.isLoading,o=Object(r.useRef)(null);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ha.a,{title:"Change avatar","aria-label":"change avatar",placement:"right",children:Object(a.jsx)(nn.a,{onClick:function(){var e=null===o||void 0===o?void 0:o.current;e&&e.click()},disabled:i,children:Object(a.jsx)(H,{firstName:t.firstName,lastName:t.lastName,avatar:t.avatar,size:"large",variant:"circular",loading:i})})}),Object(a.jsx)("input",{ref:o,className:e.visuallyHidden,type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;c(t[0])}})]})},Oa=c.a.memo(pa),fa=Object(q.a)((function(){return{avatarContainer:{display:"flex",justifyContent:"center"}}})),va=function(){var e=fa(),t=fe().user,n=[{key:"name",Icon:la.a,text:"".concat(null===t||void 0===t?void 0:t.firstName," ").concat(null===t||void 0===t?void 0:t.lastName)},{key:"email",Icon:ba.a,text:t.email}];return Object(a.jsxs)(C.a,{container:!0,direction:"column",spacing:4,justify:"center",alignContent:"center",children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)("div",{className:e.avatarContainer,children:Object(a.jsx)(Oa,{})})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(C.a,{container:!0,direction:"column",spacing:2,justify:"center",alignContent:"center",children:n.map((function(e){return Object(a.jsx)(C.a,{item:!0,children:Object(a.jsxs)(C.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(e.Icon,{color:"primary"})}),Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{children:e.text})})]})},e.key)}))})})]})},xa=c.a.memo(va),ga=function(){return Object(a.jsx)("div",{children:"NotificationSettings"})},ya=Object(q.a)((function(e){return{tabPanel:{padding:e.spacing(3)},tabLabelContainer:{display:"flex",alignItems:"center"},tabIcon:{paddingRight:e.spacing(1)}}})),Ca=[{value:"profile",label:"Profile",Icon:la.a,Component:xa},{value:"notifications",label:"Notifications",Icon:da.a,Component:ga}],wa=function(){var e,t=Object(p.g)(),n=Object(p.j)(),r=Object(p.h)(),c=ya(),i=Ca.find((function(e){return e.value===function(e){var t=e.split("/");return t[t.length-1]}(r.pathname)}));return n.url===r.pathname?Object(a.jsx)(p.a,{to:"".concat(n.url,"/profile")}):Object(a.jsx)($e,{title:"Settings",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ca.a,{value:i.value,onChange:function(e,a){!function(e){e!==i.value&&t.push("".concat(n.url,"/").concat(e))}(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:Ca.map((function(e){return Object(a.jsx)(ia.a,Object(Z.a)({value:e.value,component:m.b,to:"".concat(n.url,"/").concat(e.value),label:Object(a.jsxs)("div",{className:c.tabLabelContainer,children:[Object(a.jsx)(oa.a,{className:c.tabIcon,children:Object(a.jsx)(e.Icon,{})}),e.label]}),disabled:e.disabled},(t=e.value,{id:"settings-tab-".concat(t),"aria-controls":"settings-tabpanel-".concat(t)})),e.value);var t}))}),Object(a.jsx)("div",Object(Z.a)(Object(Z.a)({className:c.tabPanel},(e=i.value,{role:"tabpanel",id:"settings-tabpanel-".concat(e),"aria-labelledby":"settings-tab-".concat(e)})),{},{children:Object(a.jsx)(i.Component,{})}))]})})},ka=c.a.memo(wa),Sa=function(){return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/",exact:!0,render:function(){return Object(a.jsx)(p.a,{to:"/home"})}}),Object(a.jsx)(p.b,{path:"/home",component:tt}),Object(a.jsx)(p.b,{path:"/events",component:Nn}),Object(a.jsx)(p.b,{path:"/venues",exact:!0,component:_n}),Object(a.jsx)(p.b,{path:"/venues/:venueId",component:ra}),Object(a.jsx)(p.b,{path:"/settings",component:ka})]})},Ta=c.a.memo(Sa),Na=n(3),Ia=n(191),La=n.n(Ia),Aa=n(190),Pa=n.n(Aa),Ba=function(e){return Object(a.jsx)(oa.a,Object(Z.a)(Object(Z.a)({},e),{},{children:Object(a.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})}))},Ra=Object(q.a)((function(){return{baseRoot:{color:"white",justifyContent:"flex-start"},facebookRoot:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#2e487c"}},googleRoot:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#a2271d"}},twitterRoot:{backgroundColor:"#1DA1F2","&:hover":{backgroundColor:"#0a73b3"}}}})),Ea=c.a.memo((function(e){var t=e.onClick,n=Ra();return Object(a.jsx)(L.a,{classes:{root:Object(Na.a)(n.baseRoot,n.facebookRoot)},startIcon:Object(a.jsx)(Pa.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Facebook"})})),Fa=c.a.memo((function(e){var t=e.onClick,n=Ra();return Object(a.jsx)(L.a,{classes:{root:Object(Na.a)(n.baseRoot,n.googleRoot)},startIcon:Object(a.jsx)(Ba,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Google"})})),qa=c.a.memo((function(e){var t=e.onClick,n=Ra();return Object(a.jsx)(L.a,{classes:{root:Object(Na.a)(n.baseRoot,n.twitterRoot)},startIcon:Object(a.jsx)(La.a,{}),color:"primary",variant:"contained",onClick:t,fullWidth:!0,children:"Join with Twitter"})})),Va=Object(q.a)((function(){return{root:{minHeight:"100vh"},buttonsContainer:{maxWidth:"300px"},buttonContainer:{width:"100%"}}})),Da=[{authProvider:"google",Button:Fa},{authProvider:"facebook",Button:Ea},{authProvider:"twitter",Button:qa}];function Ha(){var e=xe(),t=Va();return Object(a.jsx)(C.a,{className:t.root,container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",children:Object(a.jsx)(C.a,{item:!0,children:Object(a.jsxs)(C.a,{container:!0,direction:"column",alignContent:"center",alignItems:"center",justify:"center",spacing:8,children:[Object(a.jsx)(C.a,{item:!0,children:Object(a.jsx)(w.a,{variant:"h2",children:"Team Findr"})}),Object(a.jsx)(C.a,{className:t.buttonsContainer,container:!0,direction:"column",alignItems:"center",spacing:1,children:Da.map((function(n){return Object(a.jsx)(C.a,{item:!0,className:t.buttonContainer,children:Object(a.jsx)(n.Button,{onClick:function(){return e(n.authProvider)}})},n.authProvider)}))})]})})})}var Wa=c.a.memo(Ha),za=Object(q.a)((function(e){return{root:{minHeight:"100vh"}}})),Ma=function(){var e=za();return Object(a.jsx)(C.a,{className:e.root,container:!0,alignContent:"center",justify:"center",children:Object(a.jsx)(dn.a,{})})},Qa=c.a.memo(Ma),Ua=function(e){return function(t){return fe().user?Object(a.jsx)(e,Object(Z.a)({},t)):Object(a.jsx)(p.a,{to:"/login"})}},_a=function(e){return function(t){return fe().user?Object(a.jsx)(p.a,{to:"/"}):Object(a.jsx)(e,Object(Z.a)({},t))}};function Ga(){return Ce(),fe().isLoading?Object(a.jsx)(Qa,{}):Object(a.jsx)(m.a,{children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/login",component:_a(Wa)}),Object(a.jsx)(p.b,{path:"/",component:Ua(Ta)})]})})}var Ja=c.a.memo(Ga),Za=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,374)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Ka=n(355),Xa=n(357),Ya=n(356),$a=Object(Ka.a)({palette:{primary:Ya.a},typography:{button:{textTransform:"none"}}}),er=function(e){var t=e.children;return Object(a.jsx)(Xa.a,{theme:$a,children:t})},tr=new l.a;o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsxs)(u.a,{client:tr,children:[Object(a.jsx)(s.a,{}),Object(a.jsx)(er,{children:Object(a.jsx)(se,{children:Object(a.jsx)(j.a,{children:Object(a.jsxs)(b.a,{utils:h.a,children:[Object(a.jsx)(Ja,{}),Object(a.jsx)(d.ReactQueryDevtools,{initialIsOpen:!1})]})})})})]})}),document.getElementById("root")),Za()}},[[271,1,2]]]);
//# sourceMappingURL=main.d7843192.chunk.js.map